!function(a){a.color={},a.color.make=function(e,t,o,n){var i={};return i.r=e||0,i.g=t||0,i.b=o||0,i.a=null!=n?n:1,i.add=function(e,t){for(var o=0;o<e.length;++o)i[e.charAt(o)]+=t;return i.normalize()},i.scale=function(e,t){for(var o=0;o<e.length;++o)i[e.charAt(o)]*=t;return i.normalize()},i.toString=function(){return 1<=i.a?"rgb("+[i.r,i.g,i.b].join(",")+")":"rgba("+[i.r,i.g,i.b,i.a].join(",")+")"},i.normalize=function(){function e(e,t,o){return t<e?e:o<t?o:t}return i.r=e(0,parseInt(i.r),255),i.g=e(0,parseInt(i.g),255),i.b=e(0,parseInt(i.b),255),i.a=e(0,i.a,1),i},i.clone=function(){return a.color.make(i.r,i.b,i.g,i.a)},i.normalize()},a.color.extract=function(e,t){for(var o;(""==(o=e.css(t).toLowerCase())||"transparent"==o)&&((e=e.parent()).length&&!a.nodeName(e.get(0),"body")););return a.color.parse(o="rgba(0, 0, 0, 0)"==o?"transparent":o)},a.color.parse=function(e){var t,o=a.color.make;if(t=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))return o(parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10));if(t=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(e))return o(parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10),parseFloat(t[4]));if(t=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))return o(2.55*parseFloat(t[1]),2.55*parseFloat(t[2]),2.55*parseFloat(t[3]));if(t=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(e))return o(2.55*parseFloat(t[1]),2.55*parseFloat(t[2]),2.55*parseFloat(t[3]),parseFloat(t[4]));if(t=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))return o(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16));if(t=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))return o(parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16));e=a.trim(e).toLowerCase();return"transparent"==e?o(255,255,255,0):o((t=n[e]||[0,0,0])[0],t[1],t[2])};var n={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(Z){var d=Object.prototype.hasOwnProperty;function V(e,t){var o=t.children("."+e)[0];if(null==o&&((o=document.createElement("canvas")).className=e,Z(o).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(t),!o.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");o=window.G_vmlCanvasManager.initElement(o)}this.element=o;e=this.context=o.getContext("2d"),o=window.devicePixelRatio||1,e=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;this.pixelRatio=o/e,this.resize(t.width(),t.height()),this.textContainer=null,this.text={},this._textCache={}}function n(y,o,n,i){var R=[],E={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},S=null,c=null,f=null,w=null,l=null,H=[],Y=[],k={left:0,right:0,top:0,bottom:0},T=0,z=0,q={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},M=this;M.setData=h,M.setupGrid=x,M.draw=v,M.getPlaceholder=function(){return y},M.getCanvas=function(){return S.element},M.getPlotOffset=function(){return k},M.width=function(){return T},M.height=function(){return z},M.offset=function(){var e=f.offset();return e.left+=k.left,e.top+=k.top,e},M.getData=function(){return R},M.getAxes=function(){var o={};return Z.each(H.concat(Y),function(e,t){t&&(o[t.direction+(1!=t.n?t.n:"")+"axis"]=t)}),o},M.getXAxes=function(){return H},M.getYAxes=function(){return Y},M.c2p=m,M.p2c=function(e){var t,o,n,i={};for(t=0;t<H.length;++t)if((o=H[t])&&o.used&&(n="x"+o.n,null==e[n]&&1==o.n&&(n="x"),null!=e[n])){i.left=o.p2c(e[n]);break}for(t=0;t<Y.length;++t)if((o=Y[t])&&o.used&&(n="y"+o.n,null==e[n]&&1==o.n&&(n="y"),null!=e[n])){i.top=o.p2c(e[n]);break}return i},M.getOptions=function(){return E},M.highlight=B,M.unhighlight=U,M.triggerRedrawOverlay=_,M.pointOffset=function(e){return{left:parseInt(H[j(e,"x")-1].p2c(+e.x)+k.left,10),top:parseInt(Y[j(e,"y")-1].p2c(+e.y)+k.top,10)}},M.shutdown=p,M.destroy=function(){p(),y.removeData("plot").empty(),R=[],H=[],Y=[],I=[],M=q=l=w=f=c=S=E=null},M.resize=function(){var e=y.width(),t=y.height();S.resize(e,t),c.resize(e,t)},M.hooks=q;for(var a={Canvas:V},r=0;r<i.length;++r){var s=i[r];s.init(M,a),s.options&&Z.extend(!0,E,s.options)}Z.extend(!0,E,n),n&&n.colors&&(E.colors=n.colors),null==E.xaxis.color&&(E.xaxis.color=Z.color.parse(E.grid.color).scale("a",.22).toString()),null==E.yaxis.color&&(E.yaxis.color=Z.color.parse(E.grid.color).scale("a",.22).toString()),null==E.xaxis.tickColor&&(E.xaxis.tickColor=E.grid.tickColor||E.xaxis.color),null==E.yaxis.tickColor&&(E.yaxis.tickColor=E.grid.tickColor||E.yaxis.color),null==E.grid.borderColor&&(E.grid.borderColor=E.grid.color),null==E.grid.tickColor&&(E.grid.tickColor=Z.color.parse(E.grid.color).scale("a",.22).toString());var e,t,g,u,n=(n=y.css("font-size"))?+n.replace("px",""):13,d={style:y.css("font-style"),size:Math.round(.8*n),variant:y.css("font-variant"),weight:y.css("font-weight"),family:y.css("font-family")};for(g=E.xaxes.length||1,e=0;e<g;++e)(t=E.xaxes[e])&&!t.tickColor&&(t.tickColor=t.color),t=Z.extend(!0,{},E.xaxis,t),(E.xaxes[e]=t).font&&(t.font=Z.extend({},d,t.font),t.font.color||(t.font.color=t.color),t.font.lineHeight||(t.font.lineHeight=Math.round(1.15*t.font.size)));for(g=E.yaxes.length||1,e=0;e<g;++e)(t=E.yaxes[e])&&!t.tickColor&&(t.tickColor=t.color),t=Z.extend(!0,{},E.yaxis,t),(E.yaxes[e]=t).font&&(t.font=Z.extend({},d,t.font),t.font.color||(t.font.color=t.color),t.font.lineHeight||(t.font.lineHeight=Math.round(1.15*t.font.size)));for(E.xaxis.noTicks&&null==E.xaxis.ticks&&(E.xaxis.ticks=E.xaxis.noTicks),E.yaxis.noTicks&&null==E.yaxis.ticks&&(E.yaxis.ticks=E.yaxis.noTicks),E.x2axis&&(E.xaxes[1]=Z.extend(!0,{},E.xaxis,E.x2axis),E.xaxes[1].position="top",null==E.x2axis.min&&(E.xaxes[1].min=null),null==E.x2axis.max&&(E.xaxes[1].max=null)),E.y2axis&&(E.yaxes[1]=Z.extend(!0,{},E.yaxis,E.y2axis),E.yaxes[1].position="right",null==E.y2axis.min&&(E.yaxes[1].min=null),null==E.y2axis.max&&(E.yaxes[1].max=null)),E.grid.coloredAreas&&(E.grid.markings=E.grid.coloredAreas),E.grid.coloredAreasColor&&(E.grid.markingsColor=E.grid.coloredAreasColor),E.lines&&Z.extend(!0,E.series.lines,E.lines),E.points&&Z.extend(!0,E.series.points,E.points),E.bars&&Z.extend(!0,E.series.bars,E.bars),null!=E.shadowSize&&(E.series.shadowSize=E.shadowSize),null!=E.highlightColor&&(E.series.highlightColor=E.highlightColor),e=0;e<E.xaxes.length;++e)J(H,e+1).options=E.xaxes[e];for(e=0;e<E.yaxes.length;++e)J(Y,e+1).options=E.yaxes[e];for(u in q)E.hooks[u]&&E.hooks[u].length&&(q[u]=q[u].concat(E.hooks[u]));X(q.processOptions,[E]),y.css("padding",0).children().filter(function(){return!Z(this).hasClass("flot-overlay")&&!Z(this).hasClass("flot-base")}).remove(),"static"==y.css("position")&&y.css("position","relative"),S=new V("flot-base",y),c=new V("flot-overlay",y),w=S.context,l=c.context,f=Z(c.element).unbind();n=y.data("plot");function X(e,t){t=[M].concat(t);for(var o=0;o<e.length;++o)e[o].apply(this,t)}function h(f){var e,g=(R=function(e){for(var t=[],o=0;o<e.length;++o){var n=Z.extend(!0,{},E.series);null!=e[o].data?(n.data=e[o].data,delete e[o].data,Z.extend(!0,n,e[o]),e[o].data=n.data):n.data=e[o],t.push(n)}return t}(f)).length,u=-1;for(e=0;e<R.length;++e){var d=R[e].color;null!=d&&(g--,"number"==typeof d&&u<d&&(u=d))}g<=u&&(g=u+1);var h,m=[],p=E.colors,x=p.length,v=0;for(e=0;e<g;e++)h=Z.color.parse(p[e%x]||"#666"),e%x==0&&e&&(v=0<=v?v<.5?-v-.2:0:-v),m[e]=h.scale("rgb",1+v);var t,b=0;for(e=0;e<R.length;++e){if(null==(t=R[e]).color?(t.color=m[b].toString(),++b):"number"==typeof t.color&&(t.color=m[t.color].toString()),null==t.lines.show){var w,y=!0;for(w in t)if(t[w]&&t[w].show){y=!1;break}y&&(t.lines.show=!0)}null==t.lines.zero&&(t.lines.zero=!!t.lines.fill),t.xaxis=J(H,j(t,"x")),t.yaxis=J(Y,j(t,"y"))}var o,k,n,i,a,r,s,l,c,M,T,S,z,D,F=Number.POSITIVE_INFINITY,O=Number.NEGATIVE_INFINITY,I=Number.MAX_VALUE;function C(e,t,o){t<e.datamin&&t!=-I&&(e.datamin=t),o>e.datamax&&o!=I&&(e.datamax=o)}for(Z.each($(),function(e,t){t.datamin=F,t.datamax=O,t.used=!1}),o=0;o<R.length;++o)(a=R[o]).datapoints={points:[]},X(q.processRawData,[a,a.data,a.datapoints]);for(o=0;o<R.length;++o)if(a=R[o],T=a.data,(S=a.datapoints.format)||((S=[]).push({x:!0,number:!0,required:!0}),S.push({y:!0,number:!0,required:!0}),(a.bars.show||a.lines.show&&a.lines.fill)&&(D=!!(a.bars.show&&a.bars.zero||a.lines.show&&a.lines.zero),S.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:D}),a.bars.horizontal&&(delete S[S.length-1].y,S[S.length-1].x=!0)),a.datapoints.format=S),null==a.datapoints.pointsize){a.datapoints.pointsize=S.length,s=a.datapoints.pointsize,r=a.datapoints.points;var W=a.lines.show&&a.lines.steps;for(a.xaxis.used=a.yaxis.used=!0,k=n=0;k<T.length;++k,n+=s){var A=null==(M=T[k]);if(!A)for(i=0;i<s;++i)l=M[i],(c=S[i])&&(c.number&&null!=l&&(l=+l,isNaN(l)?l=null:l==1/0?l=I:l==-1/0&&(l=-I)),null==l&&(c.required&&(A=!0),null!=c.defaultValue&&(l=c.defaultValue)),!1!==c.autoscale&&(c.x&&C(a.xaxis,l,l),c.y&&C(a.yaxis,l,l))),r[n+i]=l;if(A)for(i=0;i<s;++i)null!=(l=r[n+i])&&!1!==(c=S[i]).autoscale&&(c.x&&C(a.xaxis,l,l),c.y&&C(a.yaxis,l,l)),r[n+i]=null;else if(W&&0<n&&null!=r[n-s]&&r[n-s]!=r[n]&&r[n-s+1]!=r[n+1]){for(i=0;i<s;++i)r[n+s+i]=r[n+i];r[n+1]=r[n-s+1],n+=s}}}for(o=0;o<R.length;++o)a=R[o],X(q.processDatapoints,[a,a.datapoints]);for(o=0;o<R.length;++o){a=R[o],r=a.datapoints.points,s=a.datapoints.pointsize,S=a.datapoints.format;var L=F,N=F,_=O,P=O;for(k=0;k<r.length;k+=s)if(null!=r[k])for(i=0;i<s;++i)l=r[k+i],(c=S[i])&&!1!==c.autoscale&&l!=I&&l!=-I&&(c.x&&(l<L&&(L=l),_<l&&(_=l)),c.y&&(l<N&&(N=l),P<l&&(P=l)));if(a.bars.show){switch(a.bars.align){case"left":z=0;break;case"right":z=-a.bars.barWidth;break;default:z=-a.bars.barWidth/2}a.bars.horizontal?(N+=z,P+=z+a.bars.barWidth):(L+=z,_+=z+a.bars.barWidth)}C(a.xaxis,L,_),C(a.yaxis,N,P)}Z.each($(),function(e,t){t.datamin==F&&(t.datamin=null),t.datamax==O&&(t.datamax=null)})}function j(e,t){e=e[t+"axis"];return e="number"!=typeof(e="object"==typeof e?e.n:e)?1:e}function $(){return Z.grep(H.concat(Y),function(e){return e})}function m(e){for(var t,o={},n=0;n<H.length;++n)(t=H[n])&&t.used&&(o["x"+t.n]=t.c2p(e.left));for(n=0;n<Y.length;++n)(t=Y[n])&&t.used&&(o["y"+t.n]=t.c2p(e.top));return void 0!==o.x1&&(o.x=o.x1),void 0!==o.y1&&(o.y=o.y1),o}function J(e,t){return e[t-1]||(e[t-1]={n:t,direction:e==H?"x":"y",options:Z.extend(!0,{},e==H?E.xaxis:E.yaxis)}),e[t-1]}function p(){C&&clearTimeout(C),f.unbind("mousemove",W),f.unbind("mouseleave",A),f.unbind("click",L),X(q.shutdown,[f])}function x(){var f,e,t=$(),g=E.grid.show;for(e in k){var u=E.grid.margin||0;k[e]="number"==typeof u?u:u[e]||0}for(e in X(q.processOffset,[k]),k)"object"==typeof E.grid.borderWidth?k[e]+=g?E.grid.borderWidth[e]:0:k[e]+=g?E.grid.borderWidth:0;if(Z.each(t,function(e,t){var o,n=t.options,n=(t.show=null==n.show?t.used:n.show,t.reserveSpace=null==n.reserveSpace?t.show:n.reserveSpace,t),t=n.options,i=+(null!=t.min?t.min:n.datamin),a=+(null!=t.max?t.max:n.datamax),r=a-i;0==r?(o=0==a?1:.01,null==t.min&&(i-=o),null!=t.max&&null==t.min||(a+=o)):null!=(o=t.autoscaleMargin)&&(null==t.min&&(i-=r*o)<0&&null!=n.datamin&&0<=n.datamin&&(i=0),null==t.max&&0<(a+=r*o)&&null!=n.datamax&&n.datamax<=0&&(a=0)),n.min=i,n.max=a}),g){var d=Z.grep(t,function(e){return e.show||e.reserveSpace});for(Z.each(d,function(f,g){var e=g,o=e.options,t=(t="number"==typeof o.ticks&&0<o.ticks?o.ticks:.3*Math.sqrt("x"==e.direction?S.width:S.height),(e.max-e.min)/t),n=-Math.floor(Math.log(t)/Math.LN10),i=o.tickDecimals;null!=i&&i<n&&(n=i);var a,r=Math.pow(10,-n),s=t/r;if(s<1.5?l=1:s<3?(l=2,2.25<s&&(null==i||n+1<=i)&&(l=2.5,++n)):l=s<7.5?5:10,l*=r,null!=o.minTickSize&&l<o.minTickSize&&(l=o.minTickSize),e.delta=t,e.tickDecimals=Math.max(0,null!=i?i:n),e.tickSize=o.tickSize||l,"time"==o.mode&&!e.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");e.tickGenerator||(e.tickGenerator=function(e){for(var t,o,n,i=[],a=(o=e.min,(n=e.tickSize)*Math.floor(o/n)),r=0,s=Number.NaN;t=s,s=a+r*e.tickSize,i.push(s),++r,s<e.max&&s!=t;);return i},e.tickFormatter=function(e,t){var o=t.tickDecimals?Math.pow(10,t.tickDecimals):1,e=""+Math.round(e*o)/o;if(null!=t.tickDecimals){var n=e.indexOf("."),n=-1==n?0:e.length-n-1;if(n<t.tickDecimals)return(n?e:e+".")+(""+o).substr(1,t.tickDecimals-n)}return e}),Z.isFunction(o.tickFormatter)&&(e.tickFormatter=function(e,t){return""+o.tickFormatter(e,t)}),null==o.alignTicksWithAxis||(a=("x"==e.direction?H:Y)[o.alignTicksWithAxis-1])&&a.used&&a!=e&&(0<(s=e.tickGenerator(e)).length&&(null==o.min&&(e.min=Math.min(e.min,s[0])),null==o.max&&1<s.length&&(e.max=Math.max(e.max,s[s.length-1]))),e.tickGenerator=function(e){for(var t,o=[],n=0;n<a.ticks.length;++n)t=(a.ticks[n].v-a.min)/(a.max-a.min),t=e.min+t*(e.max-e.min),o.push(t);return o},e.mode||null!=o.tickDecimals||(r=Math.max(0,1-Math.floor(Math.log(e.delta)/Math.LN10)),1<(t=e.tickGenerator(e)).length&&/\..*0$/.test((t[1]-t[0]).toFixed(r))||(e.tickDecimals=r)));var u,d,l,c=g,i=c.options.ticks,h=[];for(null==i||"number"==typeof i&&0<i?h=c.tickGenerator(c):i&&(h=Z.isFunction(i)?i(c):i),c.ticks=[],u=0;u<h.length;++u){var m=null,p=h[u];"object"==typeof p?(d=+p[0],1<p.length&&(m=p[1])):d=+p,null===m&&(m=c.tickFormatter(d,c)),isNaN(d)||c.ticks.push({v:d,label:m})}l=(n=g).ticks,n.options.autoscaleMargin&&0<l.length&&(null==n.options.min&&(n.min=Math.min(n.min,l[0].v)),null==n.options.max&&1<l.length&&(n.max=Math.max(n.max,l[l.length-1].v)));for(var s=g,t=s.options,x=s.ticks||[],v=t.labelWidth||0,b=t.labelHeight||0,w=v||("x"==s.direction?Math.floor(S.width/(x.length||1)):null),e=s.direction+"Axis "+s.direction+s.n+"Axis",y="flot-"+s.direction+"-axis flot-"+s.direction+s.n+"-axis "+e,k=t.font||"flot-tick-label tickLabel",M=0;M<x.length;++M){var T=x[M];T.label&&(T=S.getTextInfo(y,T.label,k,null,w),v=Math.max(v,T.width),b=Math.max(b,T.height))}s.labelWidth=t.labelWidth||v,s.labelHeight=t.labelHeight||b}),f=d.length-1;0<=f;--f)!function(o){var e=o.labelWidth,t=o.labelHeight,n=o.options.position,i="x"===o.direction,a=o.options.tickLength,r=E.grid.axisMargin,s=E.grid.labelMargin,l=!0,f=!0,g=!0,c=!1;Z.each(i?H:Y,function(e,t){t&&(t.show||t.reserveSpace)&&(t===o?c=!0:t.options.position===n&&(c?f=!1:l=!1),c||(g=!1))}),f&&(r=0),null==a&&(a=g?"full":5),isNaN(+a)||(s+=+a),i?(t+=s,"bottom"==n?(k.bottom+=t+r,o.box={top:S.height-k.bottom,height:t}):(o.box={top:k.top+r,height:t},k.top+=t+r)):(e+=s,"left"==n?(o.box={left:k.left+r,width:e},k.left+=e+r):(k.right+=e+r,o.box={left:S.width-k.right,width:e})),o.position=n,o.tickLength=a,o.box.padding=s,o.innermost=l}(d[f]);var h,o=E.grid.minBorderMargin;if(null==o)for(h=o=0;h<R.length;++h)o=Math.max(o,2*(R[h].points.radius+R[h].points.lineWidth/2));var n={left:o,right:o,top:o,bottom:o};Z.each($(),function(e,t){t.reserveSpace&&t.ticks&&t.ticks.length&&("x"===t.direction?(n.left=Math.max(n.left,t.labelWidth/2),n.right=Math.max(n.right,t.labelWidth/2)):(n.bottom=Math.max(n.bottom,t.labelHeight/2),n.top=Math.max(n.top,t.labelHeight/2)))}),k.left=Math.ceil(Math.max(n.left,k.left)),k.right=Math.ceil(Math.max(n.right,k.right)),k.top=Math.ceil(Math.max(n.top,k.top)),k.bottom=Math.ceil(Math.max(n.bottom,k.bottom)),Z.each(d,function(e,t){"x"==(t=t).direction?(t.box.left=k.left-t.labelWidth/2,t.box.width=S.width-k.left-k.right+t.labelWidth):(t.box.top=k.top-t.labelHeight/2,t.box.height=S.height-k.bottom-k.top+t.labelHeight)})}if(T=S.width-k.left-k.right,z=S.height-k.bottom-k.top,Z.each(t,function(e,t){function o(e){return e}var n,i,a,r;i=(t=t).options.transform||o,a=t.options.inverseTransform,r="x"==t.direction?(n=t.scale=T/Math.abs(i(t.max)-i(t.min)),Math.min(i(t.max),i(t.min))):(n=-(n=t.scale=z/Math.abs(i(t.max)-i(t.min))),Math.max(i(t.max),i(t.min))),t.p2c=i==o?function(e){return(e-r)*n}:function(e){return(i(e)-r)*n},t.c2p=a?function(e){return a(r+e/n)}:function(e){return r+e/n}}),g&&Z.each($(),function(f,e){var t,o,n,i,a,r=e.box,s=e.direction+"Axis "+e.direction+e.n+"Axis",l="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+s,g=e.options.font||"flot-tick-label tickLabel";if(S.removeText(l),e.show&&0!=e.ticks.length)for(var c=0;c<e.ticks.length;++c)!(t=e.ticks[c]).label||t.v<e.min||t.v>e.max||("x"==e.direction?(i="center",o=k.left+e.p2c(t.v),"bottom"==e.position?n=r.top+r.padding:(n=r.top+r.height-r.padding,a="bottom")):(a="middle",n=k.top+e.p2c(t.v),"left"==e.position?(o=r.left+r.width-r.padding,i="right"):o=r.left+r.padding),S.addText(l,o,n,t.label,g,null,null,i,a))}),null!=E.legend.container?Z(E.legend.container).html(""):y.find(".legend").remove(),E.legend.show){for(var m,p,x,i=[],a=[],v=!1,b=E.legend.labelFormatter,r=0;r<R.length;++r)(m=R[r]).label&&(p=b?b(m.label,m):m.label)&&a.push({label:p,color:m.color});E.legend.sorted&&(Z.isFunction(E.legend.sorted)?a.sort(E.legend.sorted):"reverse"==E.legend.sorted?a.reverse():(x="descending"!=E.legend.sorted,a.sort(function(e,t){return e.label==t.label?0:e.label<t.label!=x?1:-1})));for(var s,l,c,r=0;r<a.length;++r){var w=a[r];r%E.legend.noColumns==0&&(v&&i.push("</tr>"),i.push("<tr>"),v=!0),i.push('<td class="legendColorBox"><div style="border:1px solid '+E.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+w.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+w.label+"</td>")}v&&i.push("</tr>"),0!=i.length&&(t='<table style="font-size:smaller;color:'+E.grid.color+'">'+i.join("")+"</table>",null!=E.legend.container?Z(E.legend.container).html(t):(s="",l=E.legend.position,null==(c=E.legend.margin)[0]&&(c=[c,c]),"n"==l.charAt(0)?s+="top:"+(c[1]+k.top)+"px;":"s"==l.charAt(0)&&(s+="bottom:"+(c[1]+k.bottom)+"px;"),"e"==l.charAt(1)?s+="right:"+(c[0]+k.right)+"px;":"w"==l.charAt(1)&&(s+="left:"+(c[0]+k.left)+"px;"),l=Z('<div class="legend">'+t.replace('style="','style="position:absolute;'+s+";")+"</div>").appendTo(y),0!=E.legend.backgroundOpacity&&(null==(c=E.legend.backgroundColor)&&((c=(c=E.grid.backgroundColor)&&"string"==typeof c?Z.color.parse(c):Z.color.extract(l,"background-color")).a=1,c=c.toString()),t=l.children(),Z('<div style="position:absolute;width:'+t.width()+"px;height:"+t.height()+"px;"+s+"background-color:"+c+';"> </div>').prependTo(l).css("opacity",E.legend.backgroundOpacity))))}}function v(){S.clear(),X(q.drawBackground,[w]);var e=E.grid;e.show&&e.backgroundColor&&(w.save(),w.translate(k.left,k.top),w.fillStyle=Q(E.grid.backgroundColor,z,0,"rgba(255, 255, 255, 0)"),w.fillRect(0,0,T,z),w.restore()),e.show&&!e.aboveData&&b();for(var t=0;t<R.length;++t){X(q.drawSeries,[w,R[t]]),o=void 0;var o=R[t];if(o.lines.show){n=void 0;a=void 0;r=void 0;s=void 0;s=void 0;var n=o;var i=function(e,f,g,t,o){var n=e.points,i=e.pointsize,u=null,d=null;w.beginPath();for(var a=i;a<n.length;a+=i){var r=n[a-i],s=n[a-i+1],l=n[a],c=n[a+1];if(null!=r&&null!=l){if(s<=c&&s<o.min){if(c<o.min)continue;r=(o.min-s)/(c-s)*(l-r)+r,s=o.min}else if(c<=s&&c<o.min){if(s<o.min)continue;l=(o.min-s)/(c-s)*(l-r)+r,c=o.min}if(c<=s&&s>o.max){if(c>o.max)continue;r=(o.max-s)/(c-s)*(l-r)+r,s=o.max}else if(s<=c&&c>o.max){if(s>o.max)continue;l=(o.max-s)/(c-s)*(l-r)+r,c=o.max}if(r<=l&&r<t.min){if(l<t.min)continue;s=(t.min-r)/(l-r)*(c-s)+s,r=t.min}else if(l<=r&&l<t.min){if(r<t.min)continue;c=(t.min-r)/(l-r)*(c-s)+s,l=t.min}if(l<=r&&r>t.max){if(l>t.max)continue;s=(t.max-r)/(l-r)*(c-s)+s,r=t.max}else if(r<=l&&l>t.max){if(r>t.max)continue;c=(t.max-r)/(l-r)*(c-s)+s,l=t.max}r==u&&s==d||w.moveTo(t.p2c(r)+f,o.p2c(s)+g),u=l,d=c,w.lineTo(t.p2c(l)+f,o.p2c(c)+g)}}w.stroke()};w.save(),w.translate(k.left,k.top),w.lineJoin="round";var a=n.lines.lineWidth,r=n.shadowSize;0<a&&0<r&&(w.lineWidth=r,w.strokeStyle="rgba(0,0,0,0.1)",s=Math.PI/18,i(n.datapoints,Math.sin(s)*(a/2+r/2),Math.cos(s)*(a/2+r/2),n.xaxis,n.yaxis),w.lineWidth=r/2,i(n.datapoints,Math.sin(s)*(a/2+r/4),Math.cos(s)*(a/2+r/4),n.xaxis,n.yaxis));w.lineWidth=a,w.strokeStyle=n.color;var s=O(n.lines,n.color,0,z);s&&(w.fillStyle=s,function(f,e,t){for(var o=f.points,n=f.pointsize,g=Math.min(Math.max(0,t.min),t.max),i=0,a=!1,u=1,d=0,h=0;!(0<n&&i>o.length+n);){var m,p,r=o[(i+=n)-n],s=o[i-n+u],l=o[i],c=o[i+u];if(a){if(0<n&&null!=r&&null==l){h=i,n=-n,u=2;continue}if(n<0&&i==d+n){w.fill(),a=!1,u=1,i=d=h+(n=-n);continue}}if(null!=r&&null!=l){if(r<=l&&r<e.min){if(l<e.min)continue;s=(e.min-r)/(l-r)*(c-s)+s,r=e.min}else if(l<=r&&l<e.min){if(r<e.min)continue;c=(e.min-r)/(l-r)*(c-s)+s,l=e.min}if(l<=r&&r>e.max){if(l>e.max)continue;s=(e.max-r)/(l-r)*(c-s)+s,r=e.max}else if(r<=l&&l>e.max){if(r>e.max)continue;c=(e.max-r)/(l-r)*(c-s)+s,l=e.max}a||(w.beginPath(),w.moveTo(e.p2c(r),t.p2c(g)),a=!0),s>=t.max&&c>=t.max?(w.lineTo(e.p2c(r),t.p2c(t.max)),w.lineTo(e.p2c(l),t.p2c(t.max))):s<=t.min&&c<=t.min?(w.lineTo(e.p2c(r),t.p2c(t.min)),w.lineTo(e.p2c(l),t.p2c(t.min))):(m=r,p=l,s<=c&&s<t.min&&c>=t.min?(r=(t.min-s)/(c-s)*(l-r)+r,s=t.min):c<=s&&c<t.min&&s>=t.min&&(l=(t.min-s)/(c-s)*(l-r)+r,c=t.min),c<=s&&s>t.max&&c<=t.max?(r=(t.max-s)/(c-s)*(l-r)+r,s=t.max):s<=c&&c>t.max&&s<=t.max&&(l=(t.max-s)/(c-s)*(l-r)+r,c=t.max),r!=m&&w.lineTo(e.p2c(m),t.p2c(s)),w.lineTo(e.p2c(r),t.p2c(s)),w.lineTo(e.p2c(l),t.p2c(c)),l!=p&&(w.lineTo(e.p2c(l),t.p2c(c)),w.lineTo(e.p2c(p),t.p2c(c))))}}}(n.datapoints,n.xaxis,n.yaxis));0<a&&i(n.datapoints,0,0,n.xaxis,n.yaxis);w.restore()}if(o.bars.show&&!function(c){var e;switch(w.save(),w.translate(k.left,k.top),w.lineWidth=c.bars.lineWidth,w.strokeStyle=c.color,c.bars.align){case"left":e=0;break;case"right":e=-c.bars.barWidth;break;default:e=-c.bars.barWidth/2}var t=c.bars.fill?function(e,t){return O(c.bars,c.color,e,t)}:null;(function(e,t,o,n,i,a){for(var r=e.points,s=e.pointsize,l=0;l<r.length;l+=s)null!=r[l]&&F(r[l],r[l+1],r[l+2],t,o,n,i,a,w,c.bars.horizontal,c.bars.lineWidth)})(c.datapoints,e,e+c.bars.barWidth,t,c.xaxis,c.yaxis),w.restore()}(o),o.points.show){r=void 0;s=void 0;a=void 0;i=void 0;n=void 0;a=void 0;r=o;o=function(e,t,o,f,n,i,a,g){for(var r=e.points,u=e.pointsize,s=0;s<r.length;s+=u){var l=r[s],c=r[s+1];null==l||l<i.min||l>i.max||c<a.min||c>a.max||(w.beginPath(),l=i.p2c(l),c=a.p2c(c)+f,"circle"==g?w.arc(l,c,t,0,n?Math.PI:2*Math.PI,!1):g(w,l,c,t,n),w.closePath(),o&&(w.fillStyle=o,w.fill()),w.stroke())}};w.save(),w.translate(k.left,k.top);s=r.points.lineWidth,a=r.shadowSize,i=r.points.radius,n=r.points.symbol;0==s&&(s=1e-4);0<s&&0<a&&(a=a/2,w.lineWidth=a,w.strokeStyle="rgba(0,0,0,0.1)",o(r.datapoints,i,null,a+a/2,!0,r.xaxis,r.yaxis,n),w.strokeStyle="rgba(0,0,0,0.2)",o(r.datapoints,i,null,a/2,!0,r.xaxis,r.yaxis,n));w.lineWidth=s,w.strokeStyle=r.color,o(r.datapoints,i,O(r.points,r.color),0,!1,r.xaxis,r.yaxis,n),w.restore()}}X(q.draw,[w]),e.show&&e.aboveData&&b(),S.render(),_()}function D(e,t){for(var o,n,i,a,r,s=$(),l=0;l<s.length;++l)if((o=s[l]).direction==t&&e[n=e[n=t+o.n+"axis"]||1!=o.n?n:t+"axis"]){a=e[n].from,r=e[n].to;break}return e[n]||(o=("x"==t?H:Y)[0],a=e[t+"1"],r=e[t+"2"]),null!=a&&null!=r&&r<a&&(i=a,a=r,r=i),{from:a,to:r,axis:o}}function b(){w.save(),w.translate(k.left,k.top);var e,t,f=E.grid.markings;if(f)for(Z.isFunction(f)&&((i=M.getAxes()).xmin=i.xaxis.min,i.xmax=i.xaxis.max,i.ymin=i.yaxis.min,i.ymax=i.yaxis.max,f=f(i)),e=0;e<f.length;++e){var g,u,d,h=f[e],o=D(h,"x"),n=D(h,"y");null==o.from&&(o.from=o.axis.min),null==o.to&&(o.to=o.axis.max),null==n.from&&(n.from=n.axis.min),null==n.to&&(n.to=n.axis.max),o.to<o.axis.min||o.from>o.axis.max||n.to<n.axis.min||n.from>n.axis.max||(o.from=Math.max(o.from,o.axis.min),o.to=Math.min(o.to,o.axis.max),n.from=Math.max(n.from,n.axis.min),n.to=Math.min(n.to,n.axis.max),g=o.from===o.to,u=n.from===n.to,g&&u||(o.from=Math.floor(o.axis.p2c(o.from)),o.to=Math.floor(o.axis.p2c(o.to)),n.from=Math.floor(n.axis.p2c(n.from)),n.to=Math.floor(n.axis.p2c(n.to)),g||u?(d=(u=h.lineWidth||E.grid.markingsLineWidth)%2?.5:0,w.beginPath(),w.strokeStyle=h.color||E.grid.markingsColor,w.lineWidth=u,g?(w.moveTo(o.to+d,n.from),w.lineTo(o.to+d,n.to)):(w.moveTo(o.from,n.to+d),w.lineTo(o.to,n.to+d)),w.stroke()):(w.fillStyle=h.color||E.grid.markingsColor,w.fillRect(o.from,n.to,o.to-o.from,n.from-n.to))))}for(var i=$(),a=E.grid.borderWidth,m=0;m<i.length;++m){var r,s,l,c=i[m],p=c.box,x=c.tickLength;if(c.show&&0!=c.ticks.length){for(w.lineWidth=1,"x"==c.direction?(r=0,s="full"==x?"top"==c.position?0:z:p.top-k.top+("top"==c.position?p.height:0)):(s=0,r="full"==x?"left"==c.position?0:T:p.left-k.left+("left"==c.position?p.width:0)),c.innermost||(w.strokeStyle=c.options.color,w.beginPath(),b=l=0,"x"==c.direction?b=T+1:l=z+1,1==w.lineWidth&&("x"==c.direction?s=Math.floor(s)+.5:r=Math.floor(r)+.5),w.moveTo(r,s),w.lineTo(r+b,s+l),w.stroke()),w.strokeStyle=c.options.tickColor,w.beginPath(),e=0;e<c.ticks.length;++e){var v=c.ticks[e].v,b=l=0;isNaN(v)||v<c.min||v>c.max||"full"==x&&("object"==typeof a&&0<a[c.position]||0<a)&&(v==c.min||v==c.max)||("x"==c.direction?(r=c.p2c(v),l="full"==x?-z:x,"top"==c.position&&(l=-l)):(s=c.p2c(v),b="full"==x?-T:x,"left"==c.position&&(b=-b)),1==w.lineWidth&&("x"==c.direction?r=Math.floor(r)+.5:s=Math.floor(s)+.5),w.moveTo(r,s),w.lineTo(r+b,s+l))}w.stroke()}}a&&(t=E.grid.borderColor,"object"==typeof a||"object"==typeof t?("object"!=typeof t&&(t={top:t,right:t,bottom:t,left:t}),0<(a="object"!=typeof a?{top:a,right:a,bottom:a,left:a}:a).top&&(w.strokeStyle=t.top,w.lineWidth=a.top,w.beginPath(),w.moveTo(0-a.left,0-a.top/2),w.lineTo(T,0-a.top/2),w.stroke()),0<a.right&&(w.strokeStyle=t.right,w.lineWidth=a.right,w.beginPath(),w.moveTo(T+a.right/2,0-a.top),w.lineTo(T+a.right/2,z),w.stroke()),0<a.bottom&&(w.strokeStyle=t.bottom,w.lineWidth=a.bottom,w.beginPath(),w.moveTo(T+a.right,z+a.bottom/2),w.lineTo(0,z+a.bottom/2),w.stroke()),0<a.left&&(w.strokeStyle=t.left,w.lineWidth=a.left,w.beginPath(),w.moveTo(0-a.left/2,z+a.bottom),w.lineTo(0-a.left/2,0),w.stroke())):(w.lineWidth=a,w.strokeStyle=E.grid.borderColor,w.strokeRect(-a/2,-a/2,T+a,z+a))),w.restore()}function F(f,g,u,d,h,m,e,t,o,p,x){var n,i,a,r,s,l,c,v,b;p?(s=!(v=l=c=!0),r=g+d,a=g+h,(i=f)<(n=u)&&(b=i,i=n,n=b,l=!(s=!0))):(v=!(s=l=c=!0),n=f+d,i=f+h,(r=g)<(a=u)&&(b=r,r=a,a=b,c=!(v=!0))),i<e.min||n>e.max||r<t.min||a>t.max||(n<e.min&&(n=e.min,s=!1),i>e.max&&(i=e.max,l=!1),a<t.min&&(a=t.min,v=!1),r>t.max&&(r=t.max,c=!1),n=e.p2c(n),a=t.p2c(a),i=e.p2c(i),r=t.p2c(r),m&&(o.fillStyle=m(a,r),o.fillRect(n,r,i-n,a-r)),0<x&&(s||l||c||v)&&(o.beginPath(),o.moveTo(n,a),s?o.lineTo(n,r):o.moveTo(n,r),c?o.lineTo(i,r):o.moveTo(i,r),l?o.lineTo(i,a):o.moveTo(i,a),v?o.lineTo(n,a):o.moveTo(n,a),o.stroke()))}function O(e,t,o,n){var i=e.fill;if(!i)return null;if(e.fillColor)return Q(e.fillColor,o,n,t);e=Z.color.parse(t);return e.a="number"==typeof i?i:.4,e.normalize(),e.toString()}n&&(n.shutdown(),c.clear()),y.data("plot",M),h(o),x(),v(),E.grid.hoverable&&(f.mousemove(W),f.bind("mouseleave",A)),E.grid.clickable&&f.click(L),X(q.bindEvents,[f]);var I=[],C=null;function W(e){E.grid.hoverable&&N("plothover",e,function(e){return 0!=e.hoverable})}function A(e){E.grid.hoverable&&N("plothover",e,function(e){return!1})}function L(e){N("plotclick",e,function(e){return 0!=e.clickable})}function N(e,t,o){var n=f.offset(),i=t.pageX-n.left-k.left,a=t.pageY-n.top-k.top,r=m({left:i,top:a}),s=(r.pageX=t.pageX,r.pageY=t.pageY,function(f,g,u){for(var e,d=E.grid.mouseActiveRadius,h=d*d+1,t=null,o=R.length-1;0<=o;--o)if(u(R[o])){var n,m,i=R[o],p=i.xaxis,x=i.yaxis,a=i.datapoints.points,r=p.c2p(f),v=x.c2p(g),b=d/p.scale,w=d/x.scale,s=i.datapoints.pointsize;if(p.options.inverseTransform&&(b=Number.MAX_VALUE),x.options.inverseTransform&&(w=Number.MAX_VALUE),i.lines.show||i.points.show)for(e=0;e<a.length;e+=s){var y,l=a[e],c=a[e+1];null!=l&&(b<l-r||l-r<-b||w<c-v||c-v<-w||(y=(y=Math.abs(p.p2c(l)-f))*y+(y=Math.abs(x.p2c(c)-g))*y)<h&&(h=y,t=[o,e/s]))}if(i.bars.show&&!t){switch(i.bars.align){case"left":n=0;break;case"right":n=-i.bars.barWidth;break;default:n=-i.bars.barWidth/2}for(m=n+i.bars.barWidth,e=0;e<a.length;e+=s){var l=a[e],c=a[e+1],k=a[e+2];null!=l&&(R[o].bars.horizontal?r<=Math.max(k,l)&&r>=Math.min(k,l)&&c+n<=v&&v<=c+m:l+n<=r&&r<=l+m&&v>=Math.min(k,c)&&v<=Math.max(k,c))&&(t=[o,e/s])}}}return t?(o=t[0],e=t[1],s=R[o].datapoints.pointsize,{datapoint:R[o].datapoints.points.slice(e*s,(e+1)*s),dataIndex:e,series:R[o],seriesIndex:o}):null}(i,a,o));if(s&&(s.pageX=parseInt(s.series.xaxis.p2c(s.datapoint[0])+n.left+k.left,10),s.pageY=parseInt(s.series.yaxis.p2c(s.datapoint[1])+n.top+k.top,10)),E.grid.autoHighlight){for(var l=0;l<I.length;++l){var c=I[l];c.auto!=e||s&&c.series==s.series&&c.point[0]==s.datapoint[0]&&c.point[1]==s.datapoint[1]||U(c.series,c.point)}s&&B(s.series,s.datapoint,e)}y.trigger(e,[r,s])}function _(){var e=E.interaction.redrawOverlayInterval;-1!=e?C=C||setTimeout(P,e):P()}function P(){var e,t,o,n,i,a,r,s;for(C=null,l.save(),c.clear(),l.translate(k.left,k.top),e=0;e<I.length;++e)(o=I[e]).series.bars.show?function(e,t){var o,n="string"==typeof e.highlightColor?e.highlightColor:Z.color.parse(e.color).scale("a",.5).toString(),i=n;switch(e.bars.align){case"left":o=0;break;case"right":o=-e.bars.barWidth;break;default:o=-e.bars.barWidth/2}l.lineWidth=e.bars.lineWidth,l.strokeStyle=n,F(t[0],t[1],t[2]||0,o,o+e.bars.barWidth,function(){return i},e.xaxis,e.yaxis,l,e.bars.horizontal,e.bars.lineWidth)}(o.series,o.point):(t=o.series,o=o.point,s=r=a=i=n=void 0,i=o[0],o=o[1],a=t.xaxis,r=t.yaxis,s="string"==typeof t.highlightColor?t.highlightColor:Z.color.parse(t.color).scale("a",.5).toString(),i<a.min||i>a.max||o<r.min||o>r.max||(n=t.points.radius+t.points.lineWidth/2,l.lineWidth=n,l.strokeStyle=s,s=1.5*n,i=a.p2c(i),o=r.p2c(o),l.beginPath(),"circle"==t.points.symbol?l.arc(i,o,s,0,2*Math.PI,!1):t.points.symbol(l,i,o,s,!1),l.closePath(),l.stroke()));l.restore(),X(q.drawOverlay,[l])}function B(e,t,o){"number"==typeof e&&(e=R[e]),"number"==typeof t&&(n=e.datapoints.pointsize,t=e.datapoints.points.slice(n*t,n*(t+1)));var n=G(e,t);-1==n?(I.push({series:e,point:t,auto:o}),_()):o||(I[n].auto=!1)}function U(e,t){if(null==e&&null==t)return I=[],void _();"number"==typeof e&&(e=R[e]),"number"==typeof t&&(o=e.datapoints.pointsize,t=e.datapoints.points.slice(o*t,o*(t+1)));var o=G(e,t);-1!=o&&(I.splice(o,1),_())}function G(e,t){for(var o=0;o<I.length;++o){var n=I[o];if(n.series==e&&n.point[0]==t[0]&&n.point[1]==t[1])return o}return-1}function Q(e,t,o,n){if("string"==typeof e)return e;for(var i=w.createLinearGradient(0,o,0,t),a=0,r=e.colors.length;a<r;++a){var s,l=e.colors[a];"string"!=typeof l&&(s=Z.color.parse(n),null!=l.brightness&&(s=s.scale("rgb",l.brightness)),null!=l.opacity&&(s.a*=l.opacity),l=s.toString()),i.addColorStop(a/(r-1),l)}return i}}Z.fn.detach||(Z.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),V.prototype.resize=function(e,t){if(e<=0||t<=0)throw new Error("Invalid dimensions for plot, width = "+e+", height = "+t);var o=this.element,n=this.context,i=this.pixelRatio;this.width!=e&&(o.width=e*i,o.style.width=e+"px",this.width=e),this.height!=t&&(o.height=t*i,o.style.height=t+"px",this.height=t),n.restore(),n.save(),n.scale(i,i)},V.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},V.prototype.render=function(){var e,t=this._textCache;for(e in t)if(d.call(t,e)){var o,n=this.getTextLayer(e),i=t[e];for(o in n.hide(),i)if(d.call(i,o)){var a,r=i[o];for(a in r)if(d.call(r,a)){for(var s,l=r[a].positions,c=0;s=l[c];c++)s.active?s.rendered||(n.append(s.element),s.rendered=!0):(l.splice(c--,1),s.rendered&&s.element.detach());0==l.length&&delete r[a]}}n.show()}},V.prototype.getTextLayer=function(e){var t=this.text[e];return null==t&&(null==this.textContainer&&(this.textContainer=Z("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),t=this.text[e]=Z("<div></div>").addClass(e).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),t},V.prototype.getTextInfo=function(e,t,o,n,i){var a,r,s;return t=""+t,a="object"==typeof o?o.style+" "+o.variant+" "+o.weight+" "+o.size+"px/"+o.lineHeight+"px "+o.family:o,null==(s=(r=null==(r=(s=null==(s=this._textCache[e])?this._textCache[e]={}:s)[a])?s[a]={}:r)[t])&&(i=Z("<div></div>").html(t).css({position:"absolute","max-width":i,top:-9999}).appendTo(this.getTextLayer(e)),"object"==typeof o?i.css({font:a,color:o.color}):"string"==typeof o&&i.addClass(o),s=r[t]={width:i.outerWidth(!0),height:i.outerHeight(!0),element:i,positions:[]},i.detach()),s},V.prototype.addText=function(e,t,o,n,i,f,g,a,r){var e=this.getTextInfo(e,n,i,f,g),s=e.positions;"center"==a?t-=e.width/2:"right"==a&&(t-=e.width),"middle"==r?o-=e.height/2:"bottom"==r&&(o-=e.height);for(var l,c=0;l=s[c];c++)if(l.x==t&&l.y==o)return void(l.active=!0);l={active:!0,rendered:!1,element:s.length?e.element.clone():e.element,x:t,y:o},s.push(l),l.element.css({top:Math.round(o),left:Math.round(t),"text-align":a})},V.prototype.removeText=function(e,t,f,o,g,u){if(null==o){var n=this._textCache[e];if(null!=n)for(var i in n)if(d.call(n,i)){var a,r=n[i];for(a in r)if(d.call(r,a))for(var s=r[a].positions,l=0;c=s[l];l++)c.active=!1}}else for(var c,s=this.getTextInfo(e,o,g,u).positions,l=0;c=s[l];l++)c.x==t&&c.y==f&&(c.active=!1)},Z.plot=function(e,t,o){return new n(Z(e),t,o,Z.plot.plugins)},Z.plot.version="0.8.3",Z.plot.plugins=[],Z.fn.plot=function(e,t){return this.each(function(){Z.plot(this,e,t)})}}(jQuery),function(r,s,l){var c,f=[],g=r.resize=r.extend(r.resize,{}),u=!1,o="setTimeout",h="resize",d=h+"-special-event",m="pendingDelay",i="activeDelay",n="throttleWindow";function p(e){!0===u&&(u=e||1);for(var t=f.length-1;0<=t;t--){var o,n,i,a=r(f[t]);a[0]==s||a.is(":visible")?(o=a.width(),n=a.height(),!(i=a.data(d))||o===i.w&&n===i.h||(a.trigger(h,[i.w=o,i.h=n]),u=e||!0)):((i=a.data(d)).w=0,i.h=0)}null!==c&&(u&&(null==e||e-u<1e3)?c=s.requestAnimationFrame(p):(c=setTimeout(p,g[m]),u=!1))}g[m]=200,g[i]=20,g[n]=!0,r.event.special[h]={setup:function(){if(!g[n]&&this[o])return!1;var e=r(this);f.push(this),e.data(d,{w:e.width(),h:e.height()}),1===f.length&&(c=l,p())},teardown:function(){if(!g[n]&&this[o])return!1;for(var e=r(this),t=f.length-1;0<=t;t--)if(f[t]==this){f.splice(t,1);break}e.removeData(d),f.length||((u?cancelAnimationFrame:clearTimeout)(c),c=null)},add:function(e){if(!g[n]&&this[o])return!1;var a;function t(e,t,o){var n=r(this),i=n.data(d)||{};i.w=t!==l?t:n.width(),i.h=o!==l?o:n.height(),a.apply(this,arguments)}if(r.isFunction(e))return a=e,t;a=e.handler,e.handler=t}},s.requestAnimationFrame||(s.requestAnimationFrame=s.webkitRequestAnimationFrame||s.mozRequestAnimationFrame||s.oRequestAnimationFrame||s.msRequestAnimationFrame||function(e,t){return s.setTimeout(function(){e((new Date).getTime())},g[i])}),s.cancelAnimationFrame||(s.cancelAnimationFrame=s.webkitCancelRequestAnimationFrame||s.mozCancelRequestAnimationFrame||s.oCancelRequestAnimationFrame||s.msCancelRequestAnimationFrame||clearTimeout)}(jQuery,this),jQuery.plot.plugins.push({init:function(t){function o(){var e=t.getPlaceholder();0!=e.width()&&0!=e.height()&&(t.resize(),t.setupGrid(),t.draw())}t.hooks.bindEvents.push(function(e,t){e.getPlaceholder().resize(o)}),t.hooks.shutdown.push(function(e,t){e.getPlaceholder().unbind("resize",o)})},options:{},name:"resize",version:"1.0"}),function(o){function v(e,t){return t*Math.floor(e/t)}function r(e,t,o,n){if("function"==typeof e.strftime)return e.strftime(t);function i(e,t){return t=""+(null==t?"0":t),1==(e=""+e).length?t+e:e}var a=[],r=!1,s=e.getHours(),f=s<12;null==o&&(o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==n&&(n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);for(var g=12<s?s-12:0==s?12:s,l=0;l<t.length;++l){var c=t.charAt(l);if(r){switch(c){case"a":c=""+n[e.getDay()];break;case"b":c=""+o[e.getMonth()];break;case"d":c=i(e.getDate());break;case"e":c=i(e.getDate()," ");break;case"h":case"H":c=i(s);break;case"I":c=i(g);break;case"l":c=i(g," ");break;case"m":c=i(e.getMonth()+1);break;case"M":c=i(e.getMinutes());break;case"q":c=""+(Math.floor(e.getMonth()/3)+1);break;case"S":c=i(e.getSeconds());break;case"y":c=i(e.getFullYear()%100);break;case"Y":c=""+e.getFullYear();break;case"p":c=f?"am":"pm";break;case"P":c=f?"AM":"PM";break;case"w":c=""+e.getDay()}a.push(c),r=!1}else"%"==c?r=!0:a.push(c)}return a.join("")}function n(e){function t(e,t,o,n){e[t]=function(){return o[n].apply(o,arguments)}}for(var o={date:e},n=(null!=e.strftime&&t(o,"strftime",e,"strftime"),t(o,"getTime",e,"getTime"),t(o,"setTime",e,"setTime"),["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"]),i=0;i<n.length;i++)t(o,"get"+n[i],e,"getUTC"+n[i]),t(o,"set"+n[i],e,"setUTC"+n[i]);return o}function b(e,t){return"browser"==t.timezone?new Date(e):t.timezone&&"utc"!=t.timezone&&"undefined"!=typeof timezoneJS&&void 0!==timezoneJS.Date?((o=new timezoneJS.Date).setTimezone(t.timezone),o.setTime(e),o):n(new Date(e));var o}var w={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},e=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],y=e.concat([[3,"month"],[6,"month"],[1,"year"]]),k=e.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);o.plot.plugins.push({init:function(e){e.hooks.processOptions.push(function(e,t){o.each(e.getAxes(),function(e,t){var x=t.options;"time"==x.mode&&(t.tickGenerator=function(e){var f=[],t=b(e.min,x),g=0,o=x.tickSize&&"quarter"===x.tickSize[1]||x.minTickSize&&"quarter"===x.minTickSize[1]?k:y;null!=x.minTickSize&&(g="number"==typeof x.tickSize?x.tickSize:x.minTickSize[0]*w[x.minTickSize[1]]);for(var n=0;n<o.length-1&&!(e.delta<(o[n][0]*w[o[n][1]]+o[n+1][0]*w[o[n+1][1]])/2&&o[n][0]*w[o[n][1]]>=g);++n);var i,u,a=o[n][0],r=("year"==(s=o[n][1])&&(null!=x.minTickSize&&"year"==x.minTickSize[1]?a=Math.floor(x.minTickSize[0]):(i=Math.pow(10,Math.floor(Math.log(e.delta/w.year)/Math.LN10)),a=(u=e.delta/w.year/i)<1.5?1:u<3?2:u<7.5?5:10,a*=i),a<1&&(a=1)),e.tickSize=x.tickSize||[a,s],e.tickSize[0]),s=e.tickSize[1],l=r*w[s],d=("second"==s?t.setSeconds(v(t.getSeconds(),r)):"minute"==s?t.setMinutes(v(t.getMinutes(),r)):"hour"==s?t.setHours(v(t.getHours(),r)):"month"==s?t.setMonth(v(t.getMonth(),r)):"quarter"==s?t.setMonth(3*v(t.getMonth()/3,r)):"year"==s&&t.setFullYear(v(t.getFullYear(),r)),t.setMilliseconds(0),w.minute<=l&&t.setSeconds(0),w.hour<=l&&t.setMinutes(0),w.day<=l&&t.setHours(0),4*w.day<=l&&t.setDate(1),2*w.month<=l&&t.setMonth(v(t.getMonth(),3)),2*w.quarter<=l&&t.setMonth(v(t.getMonth(),6)),w.year<=l&&t.setMonth(0),0),c=Number.NaN;do{var h,m,p=c,c=t.getTime()}while(f.push(c),"month"==s||"quarter"==s?r<1?(t.setDate(1),h=t.getTime(),t.setMonth(t.getMonth()+("quarter"==s?3:1)),m=t.getTime(),t.setTime(c+d*w.hour+(m-h)*r),d=t.getHours(),t.setHours(0)):t.setMonth(t.getMonth()+r*("quarter"==s?3:1)):"year"==s?t.setFullYear(t.getFullYear()+r):t.setTime(c+l),c<e.max&&c!=p);return f},t.tickFormatter=function(e,t){e=b(e,t.options);if(null!=x.timeformat)return r(e,x.timeformat,x.monthNames,x.dayNames);var o=t.options.tickSize&&"quarter"==t.options.tickSize[1]||t.options.minTickSize&&"quarter"==t.options.minTickSize[1],n=t.tickSize[0]*w[t.tickSize[1]],t=t.max-t.min,i=x.twelveHourClock?" %p":"",a=x.twelveHourClock?"%I":"%H",a=n<w.minute?a+":%M:%S"+i:n<w.day?t<2*w.day?a+":%M"+i:"%b %d "+a+":%M"+i:n<w.month?"%b %d":o&&n<w.quarter||!o&&n<w.year?t<w.year?"%b":"%b %Y":o&&n<w.year?t<w.year?"Q%q":"Q%q %Y":"%Y";return r(e,a,x.monthNames,x.dayNames)})})})},options:{xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},name:"time",version:"1.0"}),o.plot.formatDate=r,o.plot.dateGenerator=b}(jQuery),function(x){function t(e,t,o,n){var i="categories"==t.xaxis.options.mode,a="categories"==t.yaxis.options.mode;if(i||a){var r,s=n.format;s||(t=t,(s=[]).push({x:!0,number:!0,required:!0}),s.push({y:!0,number:!0,required:!0}),(t.bars.show||t.lines.show&&t.lines.fill)&&(r=!!(t.bars.show&&t.bars.zero||t.lines.show&&t.lines.zero),s.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:r}),t.bars.horizontal&&(delete s[s.length-1].y,s[s.length-1].x=!0)),n.format=s);for(var l=0;l<s.length;++l)s[l].x&&i&&(s[l].number=!1),s[l].y&&a&&(s[l].number=!1)}}function v(e){var t,o=[];for(t in e.categories){var n=e.categories[t];n>=e.min&&n<=e.max&&o.push([n,t])}return o.sort(function(e,t){return e[0]-t[0]}),o}function n(e,t,o){if("categories"==e[t].options.mode){if(!e[t].categories){var f={},n=e[t].options.categories||{};if(x.isArray(n))for(var i=0;i<n.length;++i)f[n[i]]=i;else for(var g in n)f[g]=n[g];e[t].categories=f}e[t].options.ticks||(e[t].options.ticks=v);for(var u=t,a=e[t].categories,r=o.points,d=o.pointsize,h=o.format,m=u.charAt(0),p=function(e){var t,o=-1;for(t in e)e[t]>o&&(o=e[t]);return o+1}(a),s=0;s<r.length;s+=d)if(null!=r[s])for(var l=0;l<d;++l){var c=r[s+l];null!=c&&h[l][m]&&(c in a||(a[c]=p,++p),r[s+l]=a[c])}}}function o(e,t,o){n(t,"xaxis",o),n(t,"yaxis",o)}x.plot.plugins.push({init:function(e){e.hooks.processRawData.push(t),e.hooks.processDatapoints.push(o)},options:{xaxis:{categories:null},yaxis:{categories:null}},name:"categories",version:"1.0"})}(jQuery),function(b){"use strict";function w(e,t,o,n,i,a,r){var s=Math.pow,l=Math.sqrt,c=l(s(o-e,2)+s(n-t,2)),c=r*c/(c+l(s(i-o,2)+s(a-n,2))),l=r-c;return[o+c*(e-i),n+c*(t-a),o-l*(e-i),n-l*(t-a)]}var y=[];function k(e,t,o,n){(void 0===t||"bezier"!==t&&"quadratic"!==t)&&(t="quadratic"),t+="CurveTo",0==y.length?y.push([o[0],o[1],n.concat(o.slice(2)),t]):"quadraticCurveTo"==t&&2==o.length?(n=n.slice(0,2).concat(o),y.push([o[0],o[1],n,t])):y.push([o[2],o[3],n.concat(o.slice(2)),t])}function t(f,e,t){if(!0===t.splines.show){var o,n,g,i=[],u=t.splines.tension||.5,d=t.datapoints.points,h=t.datapoints.pointsize,m=f.getPlotOffset(),a=d.length,r=[];if(y=[],a/h<4)b.extend(t.lines,t.splines);else{for(o=0;o<a;o+=h)n=d[o],g=d[o+1],null==n||n<t.xaxis.min||n>t.xaxis.max||g<t.yaxis.min||g>t.yaxis.max||r.push(t.xaxis.p2c(n)+m.left,t.yaxis.p2c(g)+m.top);for(a=r.length,o=0;o<a-2;o+=2)i=i.concat(w.apply(this,r.slice(o,o+6).concat([u])));for(e.save(),e.strokeStyle=t.color,e.lineWidth=t.splines.lineWidth,k(0,"quadratic",r.slice(0,4),i.slice(0,2)),o=2;o<a-3;o+=2)k(0,"bezier",r.slice(o,o+4),i.slice(2*o-2,2*o+2));k(0,"quadratic",r.slice(a-2,a),[i[2*a-10],i[2*a-9],r[a-4],r[a-3]]);var s=y,l=e,f=f.height()+10,p=t.splines.fill,c=t.color;(c=b.color.parse(c)).a="number"==typeof p?p:.3,c.normalize(),c=c.toString(),l.beginPath(),l.moveTo(s[0][0],s[0][1]);for(var x=s.length,v=0;v<x;v++)try{l[s[v][3]].apply(l,s[v][2])}catch(e){console.log(e);break}l.stroke(),l.lineWidth=0,l.lineTo(s[x-1][0],f),l.lineTo(s[0][0],f),l.closePath(),!1!==p&&(l.fillStyle=c,l.fill()),e.restore()}}}b.plot.plugins.push({init:function(e){e.hooks.drawSeries.push(t)},options:{series:{splines:{show:!1,lineWidth:2,tension:.5,fill:!1}}},name:"spline",version:"0.8.2"})}(jQuery),function(m){m.plot.plugins.push({init:function(c){var r={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},t={},o=null;function n(e){r.active&&(u(e),c.getPlaceholder().trigger("plotselecting",[a()]))}function i(e){1==e.which&&(document.body.focus(),void 0!==document.onselectstart&&null==t.onselectstart&&(t.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==t.ondrag&&(t.ondrag=document.ondrag,document.ondrag=function(){return!1}),g(r.first,e),r.active=!0,o=function(e){o=null,void 0!==document.onselectstart&&(document.onselectstart=t.onselectstart),void 0!==document.ondrag&&(document.ondrag=t.ondrag),r.active=!1,u(e),f()?s():(c.getPlaceholder().trigger("plotunselected",[]),c.getPlaceholder().trigger("plotselecting",[null]))},m(document).one("mouseup",o))}function a(){if(!f())return null;if(!r.show)return null;var n={},i=r.first,a=r.second;return m.each(c.getAxes(),function(e,t){var o;t.used&&(o=t.c2p(i[t.direction]),t=t.c2p(a[t.direction]),n[e]={from:Math.min(o,t),to:Math.max(o,t)})}),n}function s(){var e=a();c.getPlaceholder().trigger("plotselected",[e]),e.xaxis&&e.yaxis&&c.getPlaceholder().trigger("selected",[{x1:e.xaxis.from,y1:e.yaxis.from,x2:e.xaxis.to,y2:e.yaxis.to}])}function l(e,t,o){return t<e?e:o<t?o:t}function g(e,t){var o=c.getOptions(),n=c.getPlaceholder().offset(),i=c.getPlotOffset();e.x=l(0,t.pageX-n.left-i.left,c.width()),e.y=l(0,t.pageY-n.top-i.top,c.height()),"y"==o.selection.mode&&(e.x=e==r.first?0:c.width()),"x"==o.selection.mode&&(e.y=e==r.first?0:c.height())}function u(e){null!=e.pageX&&(g(r.second,e),f()?(r.show=!0,c.triggerRedrawOverlay()):d(!0))}function d(e){r.show&&(r.show=!1,c.triggerRedrawOverlay(),e||c.getPlaceholder().trigger("plotunselected",[]))}function h(e,t){var o,n,i,a,r,s,l=c.getAxes();for(i in l)if((o=l[i]).direction==t&&e[n=e[n=t+o.n+"axis"]||1!=o.n?n:t+"axis"]){r=e[n].from,s=e[n].to;break}return e[n]||(o=("x"==t?c.getXAxes():c.getYAxes())[0],r=e[t+"1"],s=e[t+"2"]),null!=r&&null!=s&&s<r&&(a=r,r=s,s=a),{from:r,to:s,axis:o}}function f(){var e=c.getOptions().selection.minSize;return Math.abs(r.second.x-r.first.x)>=e&&Math.abs(r.second.y-r.first.y)>=e}c.clearSelection=d,c.setSelection=function(e,t){var o,n=c.getOptions();"y"==n.selection.mode?(r.first.x=0,r.second.x=c.width()):(o=h(e,"x"),r.first.x=o.axis.p2c(o.from),r.second.x=o.axis.p2c(o.to)),"x"==n.selection.mode?(r.first.y=0,r.second.y=c.height()):(o=h(e,"y"),r.first.y=o.axis.p2c(o.from),r.second.y=o.axis.p2c(o.to)),r.show=!0,c.triggerRedrawOverlay(),!t&&f()&&s()},c.getSelection=a,c.hooks.bindEvents.push(function(e,t){null!=e.getOptions().selection.mode&&(t.mousemove(n),t.mousedown(i))}),c.hooks.drawOverlay.push(function(e,t){var o,n,i;r.show&&f()&&(o=e.getPlotOffset(),e=e.getOptions(),t.save(),t.translate(o.left,o.top),o=m.color.parse(e.selection.color),t.strokeStyle=o.scale("a",.8).toString(),t.lineWidth=1,t.lineJoin=e.selection.shape,t.fillStyle=o.scale("a",.4).toString(),e=Math.min(r.first.x,r.second.x)+.5,o=Math.min(r.first.y,r.second.y)+.5,n=Math.abs(r.second.x-r.first.x)-1,i=Math.abs(r.second.y-r.first.y)-1,t.fillRect(e,o,n,i),t.strokeRect(e,o,n,i),t.restore())}),c.hooks.shutdown.push(function(e,t){t.unbind("mousemove",n),t.unbind("mousedown",i),o&&m(document).unbind("mouseup",o)})},options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})}(jQuery),function(t){t.plot.plugins.push({init:function(i){var a=!1;function r(e){var t,o,n=function(e){for(var t=i.getData(),o=0;o<t.length;o++)if(t[o].label==e)return t[o];return null}(e);n&&(t=i.getOptions(),o=!1,void 0===n.points.oldShow&&(n.points.oldShow=!1),void 0===n.lines.oldShow&&(n.lines.oldShow=!1),n.points.show&&!n.points.oldShow&&(n.points.show=!1,o=n.points.oldShow=!0),n.lines.show&&!n.lines.oldShow&&(n.lines.show=!1,o=n.lines.oldShow=!0),o?(n.oldColor=n.color,n.color="#fff",l(t,e,!0)):(o=!1,!n.points.show&&n.points.oldShow&&(n.points.show=!0,o=!(n.points.oldShow=!1)),!n.lines.show&&n.lines.oldShow&&(n.lines.show=!0,o=!(n.lines.oldShow=!1)),o&&(n.color=n.oldColor,l(t,e,!1))))}function s(){i.setData(i.getData()),i.setupGrid(),i.draw()}function l(e,t,o){e.legend.hidden||(e.legend.hidden=[]);var n=e.legend.hidden.indexOf(t);o?n<0&&e.legend.hidden.push(t):-1<n&&e.legend.hidden.splice(n,1)}function c(e){e.mouseenter(function(){t(this).css("cursor","pointer")}).mouseleave(function(){t(this).css("cursor","default")}).unbind("click").click(function(){t(this).is(".legendColorBox")?r(t(this).next(".legendLabel").text()):r(t(this).parent().text()),s()})}i.hooks.processOptions.push(function(e,t){t.legend.hideable&&(t.legend.labelFormatter=function(e,t){return'<span class="graphlabel">'+e+"</span>"})}),i.hooks.draw.push(function(e,t){var o=e.getOptions();if(o.legend.hideable){e=e.getPlaceholder();if(c(e.find(".graphlabel")),c(e.find(".legendColorBox")),!a&&(a=!0,o.legend.hidden)){for(var n=0;n<o.legend.hidden.length;n++)r(o.legend.hidden[n]);s()}}}),i.hooks.processDatapoints.push(function(e,t,o){(e=e.getOptions()).legend.hideable&&(e.legend.hidden&&-1<e.legend.hidden.indexOf(t.label)&&(e=!1,t.points.show&&(t.points.show=!1,e=t.points.oldShow=!0),t.lines.show&&(t.lines.show=!1,e=t.lines.oldShow=!0),e&&(t.oldColor=t.color,t.color="#fff")),t.points.show||t.lines.show||(t.datapoints.format=[null,null]))})},options:{},name:"hiddenGraphs",version:"1.1"})}(jQuery),jQuery.plot.plugins.push({init:function(e){e.hooks.processDatapoints.push(function(f,g,u){if(null!=g.fillBetween){f=function(e,t){for(var o=0;o<t.length;++o)if(t[o].id==e.fillBetween)return t[o];return"number"!=typeof e.fillBetween||(o=e.fillBetween)<0||o>=t.length?null:t[o]}(g,f.getData());if(f){for(var e,d,t,h,p,o,n=u.pointsize,i=u.points,a=f.datapoints.pointsize,r=f.datapoints.points,s=[],x=g.lines.show,v=2<n&&u.format[2].y,b=x&&g.lines.steps,w=!0,l=0,c=0;;){if(l>=i.length)break;if(o=s.length,null==i[l]){for(m=0;m<n;++m)s.push(i[l+m]);l+=n}else if(c>=r.length){if(!x)for(m=0;m<n;++m)s.push(i[l+m]);l+=n}else if(null==r[c]){for(m=0;m<n;++m)s.push(null);w=!0,c+=a}else{if(e=i[l],d=i[l+1],t=r[c],h=r[c+1],p=0,e==t){for(m=0;m<n;++m)s.push(i[l+m]);p=h,l+=n,c+=a}else if(t<e){if(x&&0<l&&null!=i[l-n]){for(d=d+(i[l-n+1]-d)*(t-e)/(i[l-n]-e),s.push(t),s.push(d),m=2;m<n;++m)s.push(i[l+m]);p=h}c+=a}else{if(w&&x){l+=n;continue}for(m=0;m<n;++m)s.push(i[l+m]);x&&0<c&&null!=r[c-a]&&(p=h+(r[c-a+1]-h)*(e-t)/(r[c-a]-t)),l+=n}w=!1,o!=s.length&&v&&(s[o+2]=p)}if(b&&o!=s.length&&0<o&&null!=s[o]&&s[o]!=s[o-n]&&s[o+1]!=s[o-n+1]){for(m=0;m<n;++m)s[o+n+m]=s[o+m];s[o+1]=s[o-n+1]}}u.points=s}}})},options:{series:{fillBetween:null}},name:"fillbetween",version:"1.0"}),function(i){function a(e){var t,o=this,n=e.data||{};if(n.elem)o=e.dragTarget=n.elem,e.dragProxy=g.proxy||o,e.cursorOffsetX=n.pageX-n.left,e.cursorOffsetY=n.pageY-n.top,e.offsetX=e.pageX-e.cursorOffsetX,e.offsetY=e.pageY-e.cursorOffsetY;else if(g.dragging||0<n.which&&e.which!=n.which||i(e.target).is(n.not))return;switch(e.type){case"mousedown":return i.extend(n,i(o).offset(),{elem:o,target:e.target,pageX:e.pageX,pageY:e.pageY}),c.add(document,"mousemove mouseup",a,n),l(o,!1),g.dragging=null,!1;case!g.dragging&&"mousemove":if(s(e.pageX-n.pageX)+s(e.pageY-n.pageY)<n.distance)break;e.target=n.target,!1!==(t=r(e,"dragstart",o))&&(g.dragging=o,g.proxy=e.dragProxy=i(t||o)[0]);case"mousemove":if(g.dragging){if(t=r(e,"drag",o),f.drop&&(f.drop.allowed=!1!==t,f.drop.handler(e)),!1!==t)break;e.type="mouseup"}case"mouseup":c.remove(document,"mousemove mouseup",a),g.dragging&&(f.drop&&f.drop.handler(e),r(e,"dragend",o)),l(o,!0),g.dragging=g.proxy=n.elem=!1}return!0}function r(e,t,o){e.type=t;t=i.event.dispatch.call(o,e);return!1!==t&&(t||e.result)}function s(e){return Math.pow(e,2)}function t(){return!1===g.dragging}function l(e,t){e&&(e.unselectable=t?"off":"on",e.onselectstart=function(){return t},e.style&&(e.style.MozUserSelect=t?"":"none"))}i.fn.drag=function(e,t,o){return t&&this.bind("dragstart",e),o&&this.bind("dragend",o),e?this.bind("drag",t||e):this.trigger("drag")};var c=i.event,f=c.special,g=f.drag={not:":input",distance:0,which:1,dragging:!1,setup:function(e){(e=i.extend({distance:g.distance,which:g.which,not:g.not},e||{})).distance=s(e.distance),c.add(this,"mousedown",a,e),this.attachEvent&&this.attachEvent("ondragstart",t)},teardown:function(){c.remove(this,"mousedown",a),this===g.dragging&&(g.dragging=g.proxy=!1),l(this,!0),this.detachEvent&&this.detachEvent("ondragstart",t)}};f.dragstart=f.dragend={setup:function(){},teardown:function(){}}}(jQuery),function(r){function t(e){var t=e||window.event,o=[].slice.call(arguments,1),n=0,i=0,a=0,e=r.event.fix(t);return e.type="mousewheel",t.wheelDelta&&(n=t.wheelDelta/120),a=n=t.detail?-t.detail/3:n,void 0!==t.axis&&t.axis===t.HORIZONTAL_AXIS&&(a=0,i=-1*n),void 0!==t.wheelDeltaY&&(a=t.wheelDeltaY/120),void 0!==t.wheelDeltaX&&(i=-1*t.wheelDeltaX/120),o.unshift(e,n,i,a),(r.event.dispatch||r.event.handle).apply(this,o)}var o=["DOMMouseScroll","mousewheel"];if(r.event.fixHooks)for(var e=o.length;e;)r.event.fixHooks[o[--e]]=r.event.mouseHooks;r.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=o.length;e;)this.addEventListener(o[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=o.length;e;)this.removeEventListener(o[--e],t,!1);else this.onmousewheel=null}},r.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery),function(u){u.plot.plugins.push({init:function(c){function o(e,t){var o=c.offset();o.left=e.pageX-o.left,o.top=e.pageY-o.top,t?c.zoomOut({center:o}):c.zoom({center:o})}function n(e,t){return e.preventDefault(),o(e,t<0),!1}var i="default",a=0,r=0,s=null;function l(e){if(1!=e.which)return!1;var t=c.getPlaceholder().css("cursor");t&&(i=t),c.getPlaceholder().css("cursor",c.getOptions().pan.cursor),a=e.pageX,r=e.pageY}function f(e){var t=c.getOptions().pan.frameRate;!s&&t&&(s=setTimeout(function(){c.pan({left:a-e.pageX,top:r-e.pageY}),a=e.pageX,r=e.pageY,s=null},1/t*1e3))}function g(e){s&&(clearTimeout(s),s=null),c.getPlaceholder().css("cursor",i),c.pan({left:a-e.pageX,top:r-e.pageY})}c.zoomOut=function(e){(e=e||{}).amount||(e.amount=c.getOptions().zoom.amount),e.amount=1/e.amount,c.zoom(e)},c.zoom=function(e){var t=(e=e||{}).center,s=e.amount||c.getOptions().zoom.amount,o=c.width(),n=c.height(),i=(t=t||{left:o/2,top:n/2}).left/o,a=t.top/n,l={x:{min:t.left-i*o/s,max:t.left+(1-i)*o/s},y:{min:t.top-a*n/s,max:t.top+(1-a)*n/s}};u.each(c.getAxes(),function(e,t){var o=t.options,n=l[t.direction].min,i=l[t.direction].max,a=o.zoomRange,r=o.panRange;!1!==a&&(n=t.c2p(n),(i=t.c2p(i))<n&&(t=n,n=i,i=t),r&&(null!=r[0]&&n<r[0]&&(n=r[0]),null!=r[1]&&i>r[1]&&(i=r[1])),t=i-n,a&&(null!=a[0]&&t<a[0]&&1<s||null!=a[1]&&t>a[1]&&s<1)||(o.min=n,o.max=i))}),c.setupGrid(),c.draw(),e.preventEvent||c.getPlaceholder().trigger("plotzoom",[c,e])},c.pan=function(e){var r={x:+e.left,y:+e.top};isNaN(r.x)&&(r.x=0),isNaN(r.y)&&(r.y=0),u.each(c.getAxes(),function(e,t){var o=t.options,n=r[t.direction],i=t.c2p(t.p2c(t.min)+n),t=t.c2p(t.p2c(t.max)+n),a=o.panRange;!1!==a&&(a&&(null!=a[0]&&a[0]>i&&(i+=n=a[0]-i,t+=n),null!=a[1]&&a[1]<t&&(i+=n=a[1]-t,t+=n)),o.min=i,o.max=t)}),c.setupGrid(),c.draw(),e.preventEvent||c.getPlaceholder().trigger("plotpan",[c,e])},c.hooks.bindEvents.push(function(e,t){(e=e.getOptions()).zoom.interactive&&(t[e.zoom.trigger](o),t.mousewheel(n)),e.pan.interactive&&(t.bind("dragstart",{distance:10},l),t.bind("drag",f),t.bind("dragend",g))}),c.hooks.shutdown.push(function(e,t){t.unbind(e.getOptions().zoom.trigger,o),t.unbind("mousewheel",n),t.unbind("dragstart",l),t.unbind("drag",f),t.unbind("dragend",g),s&&clearTimeout(s)})},options:{xaxis:{zoomRange:null,panRange:null},zoom:{interactive:!1,trigger:"dblclick",amount:1.5},pan:{interactive:!1,cursor:"move",frameRate:20}},name:"navigate",version:"1.3"})}(jQuery),jQuery.plot.plugins.push({init:function(e){e.hooks.drawSeries.push(function(e,y,k){var M,T,t,o;function n(f,g){var u,e=k.datapoints.points,d=k.datapoints.pointsize,h=null,m=null,p=0,x=!0,v=k.dashes.dashLength[0]?(u=k.dashes.dashLength[0],k.dashes.dashLength[1]||u):u=k.dashes.dashLength;y.beginPath();for(var t,o=d;o<e.length;o+=d){var n=e[o-d],i=e[o-d+1],a=e[o],r=e[o+1];if(null!=n&&null!=a){if(i<=r&&i<T.min){if(r<T.min)continue;n=(T.min-i)/(r-i)*(a-n)+n,i=T.min}else if(r<=i&&r<T.min){if(i<T.min)continue;a=(T.min-i)/(r-i)*(a-n)+n,r=T.min}if(r<=i&&i>T.max){if(r>T.max)continue;n=(T.max-i)/(r-i)*(a-n)+n,i=T.max}else if(i<=r&&r>T.max){if(i>T.max)continue;a=(T.max-i)/(r-i)*(a-n)+n,r=T.max}if(n<=a&&n<M.min){if(a<M.min)continue;i=(M.min-n)/(a-n)*(r-i)+i,n=M.min}else if(a<=n&&a<M.min){if(n<M.min)continue;r=(M.min-n)/(a-n)*(r-i)+i,a=M.min}if(a<=n&&n>M.max){if(a>M.max)continue;i=(M.max-n)/(a-n)*(r-i)+i,n=M.max}else if(n<=a&&a>M.max){if(n>M.max)continue;r=(M.max-n)/(a-n)*(r-i)+i,a=M.max}n==h&&i==m||y.moveTo(M.p2c(n)+f,T.p2c(i)+g);for(var s,l=M.p2c(n)+f,c=T.p2c(i)+g,b=M.p2c(a)+f,w=T.p2c(r)+g;t=0<p?p:x?u:v,s=void 0,0==(s=(s=Math.sqrt(Math.pow(b-l,2)+Math.pow(w-c,2)))<=t?{deltaX:b-l,deltaY:w-c,distance:s,remainder:t-s}:(s=c<w?1:-1,{deltaX:(l<b?1:-1)*Math.sqrt(Math.pow(t,2)/(1+Math.pow((w-c)/(b-l),2))),deltaY:s*Math.sqrt(Math.pow(t,2)-Math.pow(t,2)/(1+Math.pow((w-c)/(b-l),2))),distance:t,remainder:0})).deltaX&&0==s.deltaY||(x?y.lineTo(l+s.deltaX,c+s.deltaY):y.moveTo(l+s.deltaX,c+s.deltaY)),x=!x,p=s.remainder,l+=s.deltaX,c+=s.deltaY,0<s.distance;);h=a,m=r}}y.stroke()}k.dashes.show&&(e=e.getPlotOffset(),M=k.xaxis,T=k.yaxis,y.save(),y.translate(e.left,e.top),y.lineJoin="round",e=k.dashes.lineWidth,t=k.shadowSize,0<e&&0<t&&(y.lineWidth=t,y.strokeStyle="rgba(0,0,0,0.1)",o=Math.PI/18,n(Math.sin(o)*(e/2+t/2),Math.cos(o)*(e/2+t/2)),y.lineWidth=t/2,n(Math.sin(o)*(e/2+t/4),Math.cos(o)*(e/2+t/4))),y.lineWidth=e,y.strokeStyle=k.color,0<e&&n(0,0),y.restore())})},options:{series:{dashes:{show:!1,lineWidth:2,dashLength:10}}},name:"dashes",version:"0.1"}),function(r){"use strict";r.plot.plugins.push({init:function(e){var l,c,a=!1,f=e,g=null,u=null;function d(){var e,t=new Date;if(g.actualStep<u.series.grow.steps){g.actualStep++;for(var o=0;o<g.length;o++)for(var n=0;n<g[o].grow.growings.length;n++)if("function"==typeof(e=g[o].grow.growings[n]).stepMode)e.stepMode(g[o],g.actualStep,e);else if("linear"===e.stepMode){if(i=void 0,g.actualStep<=g[o].grow.steps)for(var i=0;i<g[o].data.length;i++)"up"===e.stepDirection?g[o].data[i][e.valueIndex]=g[o].dataOrg[i][e.valueIndex]/g[o].grow.steps*g.actualStep:"down"===e.stepDirection&&(g[o].data[i][e.valueIndex]=g[o].dataOrg[i][e.valueIndex]+(g[o].yaxis.max-g[o].dataOrg[i][e.valueIndex])/g[o].grow.steps*(g[o].grow.steps-g.actualStep))}else if("maximum"===e.stepMode){if(a=void 0,g.actualStep<=g[o].grow.steps)for(var a=0;a<g[o].data.length;a++)"up"===e.stepDirection?g[o].data[a][e.valueIndex]=Math.min(g[o].dataOrg[a][e.valueIndex],g[o].yaxis.max/g[o].grow.steps*g.actualStep):"down"===e.stepDirection&&(g[o].data[a][e.valueIndex]=Math.max(g[o].dataOrg[a][e.valueIndex],g[o].yaxis.max/g[o].grow.steps*(g[o].grow.steps-g.actualStep)))}else if("delay"===e.stepMode){if(r=void 0,g.actualStep==g[o].grow.steps)for(var r=0;r<g[o].data.length;r++)g[o].data[r][e.valueIndex]=g[o].dataOrg[r][e.valueIndex]}else if(s=void 0,1===g.actualStep)for(var s=0;s<g[o].data.length;s++)g[o].data[s][c]=g[o].dataOrg[s][e.valueIndex];f.setData(g),f.draw(),t=new Date-t,l=window.setTimeout(d,Math.max(0,u.series.grow.stepDelay-t))}else window.clearTimeout(l),l=null}function i(){l&&(window.clearTimeout(l),l=null)}e.hooks.bindEvents.push(function(e,t){if(!0===(u=e.getOptions()).series.grow.active){for(var o=e.getData(),n=0;n<g.length;n++)u.series.grow.steps=Math.max(u.series.grow.steps,o[n].grow.steps);0===u.series.grow.stepDelay&&u.series.grow.stepDelay++,d(),function(e){for(var t=r.plot.plugins,o=0,n=t.length;o<n;o++)if(t[o].name===e)return!0;return!1}("resize")&&e.getPlaceholder().bind("resize",i)}}),e.hooks.drawSeries.push(function(e,t,o){if(u=e.getOptions(),c=u.series.grow.valueIndex,!0===u.series.grow.active&&!1===a){(g=e.getData()).actualStep=0;for(var n=g.growingIndex=0;n<g.length;n++){g[n].dataOrg=function e(t){if(null===t||"object"!=typeof t)return t;var o=new t.constructor;for(var n in t)o[n]=e(t[n]);return o}(g[n].data);for(var i=0;i<g[n].data.length;i++)g[n].data[i][c]=0}e.setData(g),a=!0}}),e.hooks.shutdown.push(function(e,t){e.getPlaceholder().unbind("resize",i)})},options:{series:{grow:{active:!1,stepDelay:20,steps:100,growings:[{valueIndex:1,stepMode:"linear",stepDirection:"up"}]}}},name:"grow",version:"0.4"})}(jQuery),function(e){if("function"==typeof require&&"object"==typeof exports&&"object"==typeof module){var t=require("jquery");module.exports=e(t)}else if("function"==typeof define&&define.amd)define(["jquery"],e);else{var o;try{o=(0,eval)("this")}catch(e){o=window}o.deparam=e(jQuery)}}(function(e){function t(e,s){var l={},c={true:!0,false:!1,null:null};return e.replace(/\+/g," ").split("&").forEach(function(e){var t,e=e.split("="),o=decodeURIComponent(e[0]),n=l,i=0,a=o.split("]["),r=a.length-1,r=/\[/.test(a[0])&&/\]$/.test(a[r])?(a[r]=a[r].replace(/\]$/,""),(a=a.shift().split("[").concat(a)).length-1):0;if(2===e.length)if(t=decodeURIComponent(e[1]),s&&(t=t&&!isNaN(t)&&+t+""===t?+t:"undefined"===t?void 0:void 0!==c[t]?c[t]:t),r)for(;i<=r;i++)n=n[o=""===a[i]?n.length:a[i]]=i<r?n[o]||(a[i+1]&&isNaN(a[i+1])?{}:[]):t;else"[object Array]"===Object.prototype.toString.call(l[o])?l[o].push(t):!{}.hasOwnProperty.call(l,o)?l[o]=t:l[o]=[l[o],t];else o&&(l[o]=s?void 0:"")}),l}return e.prototype.deparam=e.deparam=t});var months={en:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],de:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],ru:["","","","","","","","","","","",""],es:["Jan","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],fr:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],it:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],pl:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],pt:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Set","Out","Nov","Dez"],nl:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},days={en:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],de:["So","Mo","Di","Mi","Do","Fr","Sa"],ru:["","","","","","",""],es:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],fr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],it:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],pl:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],pt:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],nl:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]};function CustomChart(a,h,e,f,s){"use strict";if(!(this instanceof CustomChart))return new CustomChart(a,h,e,f,s);this.chart=null,this.config=h,this.options=a;var g,u,r=this,d=0,l=[["#8e9eab","#eef2f3"],["#517fa4","#243949"],["#485563","#29323c"],["#abbaab","#00ffff"],["#ECE9E6","#00ffff"],["#16222A","#3A6073"],["#1F1C2C","#928DAB"],["#003973","#E5E5BE"],["#D1913C","#FFD194"],["#136a8a","#267871"]];function c(e,t){if("boolean"==typeof e)return""+e;var o=r.config.l[t].unit?" "+r.config.l[t].unit:"";return void 0!==r.config.l[t].afterComma&&null!==r.config.l[t].afterComma?(e=parseFloat(e),r.config.useComma?e.toFixed(r.config.l[t].afterComma).toString().replace(".",",")+o:e.toFixed(r.config.l[t].afterComma)+o):r.config.useComma?(e=parseFloat(e)).toString().replace(".",",")+o:e+o}function m(e,t){if(s)return" ";e=new Date(parseInt(e,10));return r.config.timeFormatDate&&r.config.timeFormatTime?!t.ticks.length||new Date(t.ticks[t.ticks.length-1].v).getDate()!==e.getDate()?"<b><i>"+$.plot.formatDate(e,r.config.timeFormatDate,months[systemLang],days[systemLang])+"</i></b>":$.plot.formatDate(e,r.config.timeFormatTime,months[systemLang],days[systemLang]):$.plot.formatDate(e,r.config.timeFormat,months[systemLang],days[systemLang])}function p(e,t){var o,n,i=r.config.l[t.n-1].afterComma,a=(null!=i&&(a=i?Math.pow(10,i):1,e=(n=-1===(n=(o=(Math.round(e*a)/a).toString()).indexOf("."))?0:o.length-n-1)<i?(n?o:o+".")+a.toString().substr(1,i-n):o),r.config.useComma&&(e=e.toString().replace(".",",")),r.config.l[t.n-1].unit);return e+(a?" "+a:"")}function x(e){r.config.barLabels&&setTimeout(function(){for(var n=r.chart.getData(),i=d;i<n.length;i++)r.config.l[i-d]&&"bar"===r.config.l[i-d].chartType&&$.each(n[i].data,function(e,t){var o;null!==t[1]&&e&&e!==n[i].data.length-1&&("topover"===r.config.barLabels?(o=r.chart.pointOffset({x:t[0],y:t[1]})).top-=20:"topunder"===r.config.barLabels?o=r.chart.pointOffset({x:t[0],y:t[1]}):"bottom"===r.config.barLabels?(o=r.chart.pointOffset({x:t[0],y:0})).top+=20:o=r.chart.pointOffset({x:t[0],y:t[1]/2}),$('<div class="data-point-label"><div style="width: 100%; margin-left: -50%;">'+c(t[1],i-d)+"</div></div>").css({position:"absolute",left:o.left,top:o.top}).appendTo(r.chart.getPlaceholder()))});(r.config.barFontSize||r.config.barFontColor)&&$(".data-point-label").css({"font-size":r.config.barFontSize||void 0,color:r.config.barFontColor||void 0})},e?parseInt(e)+200:0),f&&f.length&&setTimeout(function(){for(var e,t,o=r.chart.getData(),n=0,i=0;i<f.length;i++)f[i].d&&o[f[i].l+d]&&(t=o[n].data,t="l"===f[i].p?((e=r.chart.pointOffset({x:t[0][0],y:t[0][1],yaxis:o[f[i].l+d].yaxis,xaxis:o[f[i].l+d].xaxis})).top-=f[i].py,f[i].d):((e=r.chart.pointOffset({x:t[1][0],y:t[1][1],yaxis:o[f[i].l+d].yaxis,xaxis:o[f[i].l+d].xaxis})).top-=f[i].py,'<div style="width: 100%; margin-left: -100%; padding-right: 15px; white-space: nowrap">'+f[i].d+"</div>"),$('<div class="marklines-label"  style="padding-left: 10px;  white-space: nowrap">'+t+"</div>").css({position:"absolute",left:e.left,top:e.top,"font-size":f[i].fs||void 0,color:f[i].fc||void 0}).appendTo(r.chart.getPlaceholder())),""!==f[i].vl&&null!==f[i].vl&&void 0!==f[i].vl&&n++,n++},e?parseInt(e)+200:0)}var v=!(g=[]),b=$("#"+r.options.titleId);if(r.config.title&&!b.html()&&(b.html(r.config.titlePos?decodeURI(r.config.title):""),r.config.titleColor&&b.css("color",r.config.titleColor),r.config.titleSize&&b.css("font-size",r.config.titleSize),r.config.titlePos)){for(var w=r.config.titlePos.split(";"),t={},y=0;y<w.length;y++){var k=w[y].split(":");"bottom"===k[0]&&"5"==k[1]?-1===r.config.height.indexOf("%")?t.top=parseInt(r.config.height,10)-b.height()-45:t.top="calc("+r.config.height+" - "+(b.height()+45)+"px)":"bottom"===k[0]&&"-5"==k[1]?-1===r.config.height.indexOf("%")?t.top=parseInt(r.config.height,10)+5:t.top="calc("+r.config.height+" + 5px)":"top"===k[0]&&"50"==k[1]?-1===r.config.height.indexOf("%")?t.top=(parseInt(r.config.height,10)-b.height())/2:t.top="calc(50% - "+b.height()/2+"px)":"left"===k[0]&&"50"==k[1]?-1===r.config.width.indexOf("%")?t.left=(parseInt(r.config.width,10)-b.width())/2:t.left="calc(50% - "+b.width()/2+"px)":"right"===k[0]&&"5"==k[1]?-1===r.config.width.indexOf("%")?t.left=parseInt(r.config.width,10)-b.width()-45:t.left="calc("+r.config.width+" - "+(b.width()+45)+"px)":"right"===k[0]&&"-5"==k[1]?-1===r.config.width.indexOf("%")?t.left=parseInt(r.config.width,10)+25:t.left="calc("+r.config.width+" + 5px)":t[k[0]]=k[1]}b.css(t)}if(r.config.bg&&r.config.bg.length<3&&l[r.config.bg]&&(r.config.bg={colors:l[r.config.bg]}),d=0,f&&f.length)for(var o=0;o<f.length;o++)d++,f[o].v=parseFloat(f[o].v)||0,f[o].l=parseInt(f[o].l)||0,f[o].s=parseFloat(f[o].s)||0,f[o].t=parseFloat(f[o].t)||0,f[o].py=parseFloat(f[o].py)||0,g.push({id:"line"+o,xaxis:{show:!1},color:f[o].c||void 0,lines:{show:!0,fill:"1"===f[o].f||1===f[o].f||"true"===f[o].f||!0===f[o].f,steps:!0,lineWidth:f[o].t},data:[[0,f[o].v],[100,f[o].v]],label:"__hide_me__",shadowSize:f[o].s}),""!==f[o].vl&&null!==f[o].vl&&void 0!==f[o].vl&&(d++,f[o].vl=parseFloat(f[o].vl)||0,g.push({xaxis:{show:!1},color:f[o].c||void 0,lines:{show:!0,fill:!0,steps:!0,lineWidth:f[o].t},data:[[0,f[o].vl],[100,f[o].vl]],fillBetween:"line"+o,label:"__hide_me__",shadowSize:f[o].s}));for(var M,T=1/0,S=0,n=0;n<e.length;n++)e[n]&&r.config.l[n]&&(r.config.l[n].chartType=r.config.l[n].chartType||r.config.chartType||"line",r.config.l[n].dashes=!0===r.config.l[n].dashes||"true"===r.config.l[n].dashes,r.config.l[n].dashLength=parseFloat(r.config.l[n].dashLength)||10,r.config.l[n].spaceLength=parseFloat(r.config.l[n].spaceLength)||10,M="scatterplot"!==r.config.l[n].chartType&&"bar"!==r.config.l[n].chartType&&"spline"!==r.config.l[n].chartType,M={color:r.config.l[n].color||void 0,lines:{show:!r.config.l[n].dashes&&M,fill:r.config.l[n].fill&&"0"!==r.config.l[n].fill?parseFloat(r.config.l[n].fill):"area"===r.config.l[n].chartType||"bar"===r.config.l[n].chartType,steps:"steps"===r.config.l[n].chartType,lineWidth:r.config.l[n].thickness},splines:{show:"spline"===r.config.l[n].chartType,tension:.5,lineWidth:r.config.l[n].thickness,fill:!(!r.config.l[n].fill||"0"===r.config.l[n].fill)&&parseFloat(r.config.l[n].fill)},bars:{show:"bar"===r.config.l[n].chartType,order:n+1,barWidth:.6,lineWidth:r.config.l[n].thickness,fill:!(!r.config.l[n].fill||"0"===r.config.l[n].fill)&&parseFloat(r.config.l[n].fill),fillColor:r.config.barColor||void 0,align:"center"},points:{show:"lineplot"===r.config.l[n].chartType||"scatterplot"===r.config.l[n].chartType||"true"===r.config.l[n].points||!0===r.config.l[n].points},data:e[n],label:r.config.l[n].name,shadowSize:r.config.l[n].shadowsize,dashes:{show:r.config.l[n].dashes&&M,lineWidth:r.config.l[n].thickness,dashLength:[r.config.l[n].dashLength,r.config.l[n].spaceLength]}},r.config.smoothing&&0<r.config.smoothing||r.config.l[n].smoothing&&0<r.config.l[n].smoothing?(v=!0,r.config.l[n].smoothing=parseInt(r.config.l[n].smoothing||r.config.smoothing),M.data=avg(M.data,r.config.l[n].smoothing)):r.config.l[n].smoothing=0,r.config.l[n].afterComma=void 0===r.config.l[n].afterComma||""===r.config.l[n].afterComma?r.config.afterComma:parseInt(r.config.l[n].afterComma,10),"bar"===r.config.l[n].chartType&&(M.bars.barWidth=(M.data[M.data.length-1][0]-M.data[0][0])/M.data.length*(parseFloat(r.config.barWidth)||.5)),g.push(M),e[n][0][0]<T&&(T=e[n][0][0]),e[n][e[n].length-1][0]>S&&(S=e[n][e[n].length-1][0]));null===r.config.min||void 0===r.config.min||""===r.config.min||"NaN"===r.config.min.toString()?r.config.min=void 0:r.config.min=parseFloat(r.config.min),r.config.noBorder?(r.config.width||(r.config.width="100%"),r.config.height||(r.config.height="100%"),-1!==r.config.width.indexOf("%")?$("#chart_container").css({width:"calc("+r.config.width+" - 20px)"}):$("#chart_container").css({width:r.config.width}),-1!==r.config.height.indexOf("%")?$("#chart_container").css({height:"calc("+r.config.height+" - 20px)"}):$("#chart_container").css({height:r.config.height})):$("#chart_container").addClass("chart-container").css({width:r.config.width,height:r.config.height}),"null"===r.config.timeFormat&&(r.config.timeFormat=void 0),r.config.timeFormat&&(-1!==r.config.timeFormat.indexOf("%H:%M:%S")?r.config.timeFormatTime="%H:%M:%S":-1!==r.config.timeFormat.indexOf("%I:%M:%S")?r.config.timeFormatTime="%I:%M:%S":-1!==r.config.timeFormat.indexOf("%H:%M.")?r.config.timeFormatTime="%H:%M.":-1!==r.config.timeFormat.indexOf("%H:%M")?r.config.timeFormatTime="%H:%M":r.config.timeFormatTime=null,-1!==r.config.timeFormat.indexOf("%d.%m.%y")?r.config.timeFormatDate="%d.%m.%y":-1!==r.config.timeFormat.indexOf("%x %p")?r.config.timeFormatDate="%x %p":-1!==r.config.timeFormat.indexOf("%d/%m/%y")?r.config.timeFormatDate="%d/%m/%y":-1!==r.config.timeFormat.indexOf("%m.%d.%y")?r.config.timeFormatDate="%m.%d.%y":-1!==r.config.timeFormat.indexOf("%d.%m")?r.config.timeFormatDate="%d.%m":-1!==r.config.timeFormat.indexOf("%a")?r.config.timeFormatDate="%a":r.config.timeFormatDate=null),u={grid:{hoverable:"true"===r.config.hoverDetail||!0===r.config.hoverDetail,backgroundColor:r.config.bg||void 0,borderWidth:r.config.border_width||"0"===r.config.border_width||0===r.config.border_width?parseInt(r.config.border_width,10):void 0,borderColor:r.config.border_color||void 0},yaxes:[],xaxes:[],legend:{show:!!r.config.legend,position:r.config.legend,hideable:!0,noColumns:parseInt(r.config.legColumns,10)||void 0,backgroundColor:r.config.legBg||void 0,backgroundOpacity:void 0!==r.config.legBgOpacity?parseFloat(r.config.legBgOpacity):.85,labelFormatter:function(e,t){return"__hide_me__"===e?null:'<span class="graphlabel">'+e+"</span>"}}},r.config.zoom&&(u.zoom={interactive:!0,trigger:"dblclick",amount:1.5},u.pan={interactive:!0,cursor:"move",frameRate:20});for(var l=r.config.animation<1e3?20:50,i=0;i<r.config.l.length;i++){r.config.l[i].yaxe=r.config.l[i].yaxe||"",r.config.l[i].xaxe=r.config.l[i].xaxe||"",r.config.l[i].commonYAxis=r.config.l[i].commonYAxis||"";var z,D={show:"off"!==r.config.l[i].yaxe,min:""!==r.config.l[i].min&&null!==r.config.l[i].min&&void 0!==r.config.l[i].min?parseFloat(r.config.l[i].min):void 0,max:""!==r.config.l[i].max&&null!==r.config.l[i].max&&void 0!==r.config.l[i].max?parseFloat(r.config.l[i].max):void 0,position:-1<r.config.l[i].yaxe.indexOf("left")?"left":"right",font:{color:-1<r.config.l[i].yaxe.indexOf("Color")?r.config.l[i].color:r.config.y_labels_color||"black"},zoomRange:!1,panRange:!1,ticks:parseInt(r.config.l[i].yticks,10)||void 0,tickColor:r.config.grid_color||void 0,tickFormatter:p},F={show:"off"!==r.config.l[i].xaxe,position:-1!==r.config.l[i].xaxe.indexOf("top")?"top":"bottom",font:{color:-1!==r.config.l[i].xaxe.indexOf("Color")?r.config.l[i].color:r.config.x_labels_color||"black"},zoomRange:null,panRange:null,mode:"time",timezone:"browser",tickFormatter:r.config.timeFormat?m:null,minTickSize:"bar"===r.config.l[i].chartType?g[i+d].bars.barWidth:void 0,tickColor:r.config.grid_color||void 0,ticks:parseInt(r.config.l[i].xticks,10)||void 0,min:void 0,max:void 0};if("bar"===r.config.l[i].chartType){u.legend.hideable=!1,F.ticks=[];for(var O=0;O<e[i].length;O++)F.ticks.push(e[i][O][0]);e[i][0][1]=null,e[i][e[i].length-1][1]=null}else s&&(F.ticks=s);r.config.zoom&&(z=new Date,F.zoomRange=[null,z.getTime()],F.panRange=[null,z.getTime()]),u.yaxes.push(D),u.xaxes.push(F),""!==r.config.l[i].commonYAxis?g[i+d].yaxis=parseInt(r.config.l[i].commonYAxis):g[i+d].yaxis=i+1,g[i+d].xaxis=i+1,g[i+d].curvedLines={apply:!!r.config.l[i].smoothing,active:!!r.config.l[i].smoothing,monotonicFit:!0}}if(f&&f.length)for(var I=0,C=0;C<f.length;C++)g[f[C].l+d]&&(f[C].l=parseInt(f[C].l,10),g[I].yaxis=g[f[C].l+d].yaxis,g[I].data[0][0]=T,g[I].data[1][0]=S,I++,""!==f[C].vl&&null!==f[C].vl&&void 0!==f[C].vl&&(g[I].yaxis=g[f[C].l+d].yaxis,g[I].data[0][0]=T,g[I].data[1][0]=S,I++));return v&&(u.series=u.series||{},u.series.curvedLines={apply:!0,active:!0,monotonicFit:!0}),r.config.animation&&(u.series=u.series||{},u.series.grow={active:!0,steps:l,stepDelay:r.config.animation/l}),$.plot.plugins.push({init:function(e){e.hooks.processOptions.push(function(e,t){t.legend.hideable&&(t.legend.labelFormatter=function(e,t){return"__hide_me__"===e?null:'<span class="graphlabel">'+e+"</span>"})})},options:a,name:"hiddenGraphsEx",version:"1.0"}),r.chart=$.plot("#"+r.options.chartId,g,u),x(r.config.animation),l=$("#"+r.options.chartId),r.options.tooltipId=r.options.tooltipId||"tooltip","true"!==r.config.hoverDetail&&!0!==r.config.hoverDetail||(l.unbind("plothover").bind("plothover",function(e,t,o){var n,i,a;o?(a=o.datapoint[0].toFixed(2),n="boolean"===r.config.l[o.seriesIndex-d].type?!!Math.round(o.datapoint[1]-r.config.l[o.seriesIndex-d].yOffset):(o.datapoint[1]-r.config.l[o.seriesIndex-d].yOffset).toFixed(2),i=o.series.label?o.series.label+"<br>":"",i=(i+=$.plot.formatDate(new Date(parseInt(a,10)),r.config.timeFormat)+"<br>")+"<b>"+c(n,o.seriesIndex-d)+"</b>",a=$("#"+r.options.tooltipId).html(i),$(this).height()-o.pageY<a.height()&&(o.pageY-=10+a.height()),$(this).width()-o.pageX<a.width()&&(o.pageX-=10+a.width()),a.css({top:o.pageY+5,left:o.pageX+5}).fadeIn(200)):$("#tooltip").hide()}),$("#"+r.options.tooltipId).length||$('<div id="'+r.options.tooltipId+'"></div>').css({position:"absolute",display:"none",border:"1px solid #fdd",padding:"2px","background-color":"#fee",opacity:.8}).appendTo("body")),r.config.zoom&&r.options.cbOnZoom&&l.unbind("plotzoom").bind("plotzoom",function(e,t,o){r.zoomTimeout&&clearTimeout(r.zoomTimeout),r.zoomTimeout=setTimeout(r.options.cbOnZoom,500)}).unbind("plotpan").bind("plotpan",function(e,t,o){r.zoomTimeout&&clearTimeout(r.zoomTimeout),r.zoomTimeout=setTimeout(r.options.cbOnZoom,500)}),this.update=function(e,t,c){if(e){for(var o=1/0,n=0,i=0;i<h.l.length;i++)if(g[i+d].data=e[i],e[i][0][0]<o&&(o=e[i][0][0]),e[i][e[i].length-1][0]>n&&(n=e[i][e[i].length-1][0]),"bar"===h.l[i].chartType){u.xaxes[i].ticks=[];for(var a=0;a<e[i].length;a++)u.xaxes[i].ticks.push(e[i][a][0]);e[i][0][1]=null,e[i][e[i].length-1][1]=null}if(f&&f.length)for(var r=0,a=0;a<f.length;a++)g[r].data[0][0]=o,g[r].data[1][0]=n,r++,""!==f[a].vl&&null!==f[a].vl&&void 0!==f[a].vl&&(g[r].data[0][0]=o,g[r].data[1][0]=n,r++);$(".data-point-label").remove(),$(".marklines-label").remove(),u.series&&u.series.grow&&(u.series.grow.active=!1)}if(t&&t.length)for(var s=0,l=0;l<t.length;l++)g[s].data[0][1]=t[l].v,g[s].data[1][1]=t[l].v,s++,""!==t[l].vl&&null!==t[l].vl&&void 0!==t[l].vl&&(g[s].data[0][1]=t[l].vl,g[s].data[1][1]=t[l].vl,s++);this.chart=$.plot("#"+this.options.chartId,g,u),x(!1)},this.getRange=function(){for(var e=this.chart.getOptions(),t=[],o=0;o<e.xaxes.length;o++)t[o]={min:Math.round(e.xaxes[o].min),max:Math.round(e.xaxes[o].max)},u.xaxes[o].max=t[o].max,u.xaxes[o].min=t[o].min;return t},this.setRange=function(e){for(var t=0;t<u.xaxes.length;t++)u.xaxes[t].min=e[t].min,u.xaxes[t].max=e[t].max},this.resetZoom=function(e){e=e||new Date;for(var t=0;t<u.xaxes.length;t++)u.xaxes[t].zoomRange=[null,e.getTime()],u.xaxes[t].panRange=[null,e.getTime()]},this.zoom=function(e,t){var o=this.chart.offset();this.chart.zoom({center:{left:e-o.left,height:this.chart.height()/2},amount:t})},this.pan=function(e){this.chart.pan({left:e,top:0})},this}var disconnectTimeout=setTimeout(function(){disconnectTimeout=null,$("#no-connection").show()},5e3),sessionId=1,path=location.href.split("?")[1],systemLang="en",config=("undefined"!=typeof sysLang&&(systemLang=sysLang||"en"),deparam(path||""));if(config.lines&&(config.l=JSON.parse(JSON.stringify(config.lines)),delete config.lines),config._ids){var ids=config._ids?config._ids.split(";"):[],colors=config._colors?config._colors.split(";"):[],names=config._names?config._names.split(";"):[],units=config._units?config._units.split(";"):[];config.l=[];for(var i=0;i<ids.length;i++)config.l.push({id:ids[i],offset:0,name:names[i]||"",aggregate:"onchange",color:colors[i]||"blue",thickness:config.strokeWidth||1,shadowsize:config.strokeWidth||1,min:config.min||"",max:config.max||"",unit:units[i]||""});config.aggregateType="step",config.aggregateSpan=300,config.relativeEnd="now"}if(config.l)for(var j=0;j<config.l.length;j++)config.l[j].art&&(config.l[j].aggregate=config.l[j].art,delete config.l[j].art),config.instance&&!config.l[j].instance&&(config.l[j].instance=config.instance);config.width=config.width||"100%",config.height=config.height||"100%",config.timeFormat=config.timeFormat||"%H:%M:%S %e.%m.%y",config.useComma="true"===config.useComma||!0===config.useComma,config.zoom="true"===config.zoom||!0===config.zoom,config.animation=parseInt(config.animation)||0,config.noedit="true"===config.noedit||!0===config.noedit,config.afterComma=void 0===config.afterComma?2:parseInt(config.afterComma,10),config.timeType=config.timeArt||config.timeType||"relative";var seriesData=[],ticks=null,liveInterval,navOptions={},socketURL="",socketSESSION="",now=new Date,divId="chart_placeholder",zoomTimeout=null,lastX=null,mouseDown=!1,lastWidth=null,chart=null,isApp=!1,subscribes=[],subscribed=!1;try{window.top!==window.self&&void 0!==window.top.app&&void 0!==window.top.socketUrl&&(isApp=!0)}catch(e){}isApp?socketURL=window.top.socketUrl:"undefined"!=typeof socketUrl&&(socketURL=socketUrl,socketURL&&":"===socketURL[0]&&(socketURL=location.protocol+"//"+location.hostname+socketURL),socketSESSION=socketSession);var socket=io.connect(socketURL,{query:"key="+socketSESSION,"reconnection limit":1e4,"max reconnection attempts":1/0,upgrade:"undefined"!=typeof socketForceWebSockets?!socketForceWebSockets:void 0,rememberUpgrade:"undefined"!=typeof socketForceWebSockets?socketForceWebSockets:void 0,transports:"undefined"!=typeof socketForceWebSockets&&socketForceWebSockets?["websocket"]:void 0});function addTime(e,t,o,n){return e=new Date(e),"string"==typeof t?"m"===t[1]?(t=parseInt(t,10),e.setMonth(o?e.getMonth()+t:e.getMonth()-t),e=e.getTime()):"y"===t[1]?(t=parseInt(t,10),e.setFullYear(o?e.getFullYear()+t:e.getFullYear()-t),e=e.getTime()):(e=e.getTime(),n?o?e+=6e4*(parseInt(t,10)||0):e-=6e4*(parseInt(t,10)||0):o?e+=1e3*(parseInt(t,10)||0):e-=1e3*(parseInt(t,10)||0)):(e=e.getTime(),n?o?e+=6e4*(parseInt(t,10)||0):e-=6e4*(parseInt(t,10)||0):o?e+=1e3*(parseInt(t,10)||0):e-=1e3*(parseInt(t,10)||0)),e}function getStartStop(e,t){var o,n,i,a={};if(config.l[e].offset=config.l[e].offset||0,-1!==config.range.indexOf("m")&&1<config.l.length)for(var r=parseInt(config.range,10)||1,s=0;s<config.l.length;s++)if(config.l[s].offset&&0!==config.l[s].offset){var l=addTime(now,config.l[0].offset),c=new Date(l);c.setMonth(c.getMonth()-r),config.range=Math.floor((l-c.getTime())/6e4)+"";break}return config.zoomed?(navOptions[e].end=config.l[e].zMax,navOptions[e].start=config.l[e].zMin,navOptions[e]):t?(a={start:o=(n=addTime(now,config.l[e].offset))-t,end:n,ignoreNull:(void 0===config.l[e].ignoreNull?config:config.l[e]).ignoreNull,aggregate:config.l[e].aggregate||config.aggregate||"minmax",count:1},navOptions[e].end=n,navOptions[e].start=addTime(n,config.range,!1,!0),a):("static"===config.timeType?(t=void 0!==config.start_time?config.start_time.split(":").map(Number):[0,0],i=void 0!==config.end_time?config.end_time.split(":").map(Number):[24,0],o=new Date(config.start).setHours(t[0],t[1]),n=new Date(config.end).setHours(i[0],i[1]),o=addTime(o,config.l[e].offset),n=addTime(n,config.l[e].offset)):("now"===config.relativeEnd?l=new Date(now):-1!==config.relativeEnd.indexOf("minute")?(t=parseInt(config.relativeEnd,10)||1,(l=new Date(now)).setMinutes(Math.floor(l.getMinutes()/t)*t+t),l.setSeconds(0),l.setMilliseconds(0)):-1!==config.relativeEnd.indexOf("hour")?(i=parseInt(config.relativeEnd,10)||1,(l=new Date(now)).setHours(Math.floor(l.getHours()/i)*i+i),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0)):"today"===config.relativeEnd?((l=new Date(now)).setDate(l.getDate()+1),l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0)):"weekUsa"===config.relativeEnd?((l=new Date(now)).setDate(l.getDate()-l.getDay()+7),l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0)):"weekEurope"===config.relativeEnd?(0===(l=new Date(now)).getDay()?l.setDate(l.getDate()+1):l.setDate(l.getDate()-l.getDay()+8),l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0)):"month"===config.relativeEnd?((l=new Date(now)).setMonth(l.getMonth()+1),l.setDate(1),l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0)):"year"===config.relativeEnd&&((l=new Date(now)).setFullYear(l.getFullYear()+1),l.setMonth(0),l.setDate(1),l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0)),n=addTime(l,config.l[e].offset),o=addTime(n,config.range,!1,!0)),a={start:o,end:n,ignoreNull:(void 0===config.l[e].ignoreNull?config:config.l[e]).ignoreNull,aggregate:config.l[e].aggregate||config.aggregate||"minmax"},"step"===config.aggregateType?a.step=1e3*config.aggregateSpan:"count"===config.aggregateType&&(a.count=config.aggregateSpan||document.getElementById("chart_container").clientWidth/10),navOptions[e]=a)}function xmove(e,t){return e=new Date(e),"minuteBegin"==t?e.setSeconds(0,0):"hourBegin"==t?e.setMinutes(0,0,0):"dayBegin"==t?e.setHours(0,0,0,0):"weekBegin"==t?(e.setHours(0,0,0,0),e.setDate(e.getDate()-(e.getDay()+6)%7)):"monthBegin"==t?(e.setHours(0,0,0,0),e.setDate(1)):"yearBegin"==t&&(e.setHours(0,0,0,0),e.setMonth(0,1)),e.getTime()}function readOneChart(r,e,s,l){var c=getStartStop(s),f=(c.instance=e,c.sessionId=sessionId,config.l[s].yOffset=parseFloat(config.l[s].yOffset)||0,config.l[s].multiplicator?parseFloat(config.l[s].multiplicator):1);console.log(new Date(c.start)+" - "+new Date(c.end)),socket.emit("getHistory",r,c,function(e,t,o,n){if(e&&console.error(e),sessionId&&n&&n!==sessionId)return console.warn("Ignore request with sessionId="+n+", actual is "+sessionId);if(!e&&t){c.yOffset=config.l[s].yOffset;for(var i=seriesData[s],a=0;a<t.length;a++)"true"===t[a].val||!0===t[a].val?t[a].val=1:"false"!==t[a].val&&!1!==t[a].val||(t[a].val=0),"string"==typeof t[a].val&&(t[a].val=parseFloat(t[a].val)),i.push([config.l[s].xmove?xmove(t[a].ts,config.l[s].xmove):t[a].ts,null!==t[a].val?t[a].val*f+c.yOffset:null]);i.length?(i[0][0]>c.start&&i.unshift([c.start,null]),i[i.length-1][0]<c.end&&i.push([c.end,null])):(i.push([c.start,null]),i.push([c.end,null])),t=null}l&&l(r,s)})}function readValue(e,o,n){socket.emit("getState",e,function(e,t){n(o,t&&parseFloat(t.val)||0)})}function prepareChart(){chart=new CustomChart({chartId:divId,titleId:"title",tooltipId:"tooltip",cbOnZoom:onZoom},config,seriesData,config.m,ticks),config.zoom&&($("#resetZoom").unbind("click").click(function(){seriesData=[],$("#resetZoom").hide(),config.zoomed=!1,now=new Date,readData(!0)}),$("#"+divId).unbind("touchstart").on("touchstart",function(e){e.preventDefault(),mouseDown=!0;e=e.touches||e.originalEvent.touches;e&&(lastX=e[e.length-1].pageX,lastWidth=1<e.length?Math.abs(e[0].pageX-e[1].pageX):null)}).unbind("touchend").on("touchend",function(e){e.preventDefault(),mouseDown=!1,zoomTimeout&&clearTimeout(zoomTimeout),zoomTimeout=setTimeout(onZoom,500)}).unbind("touchmove").on("touchmove",function(e){e.preventDefault();var t,o,n,e=e.touches||e.originalEvent.touches;e&&(mouseDown&&(t=e[e.length-1].pageX,1<e.length?(o=Math.abs(e[0].pageX-e[1].pageX),null!==lastWidth&&o!==lastWidth&&(n=lastWidth<o?1.1:.9,e=e[0].pageX>e[1].pageX?e[1].pageX+o/2:e[0].pageX+o/2,chart.zoom(e,n),zoomTimeout&&clearTimeout(zoomTimeout),zoomTimeout=setTimeout(onZoom,500)),lastWidth=o):chart.pan(lastX-t)),lastX=t)})),config.live&&"relative"===config.timeType&&(!0!==config.live&&"true"!==config.live||(config.live=30),config.live=parseInt(config.live,10)||30,startLiveUpdate())}function _readOneLine(o,n){socket.emit("getObject",config.l[o].id,function(e,t){!e&&t&&t.common?(config.l[o].name=config.l[o].name||t.common.name,config.l[o].unit=config.l[o].unit||(t.common.unit?t.common.unit.replace("",""):""),config.l[o].type=t.common.type):(config.l[o].name=config.l[o].name||config.l[o].id,config.l[o].unit=config.l[o].unit||""),"object"==typeof config.l[o].name&&(config.l[o].name=config.l[o].name[systemLang]||config.l[o].name.en),readOneChart(config.l[o].id,config.l[o].instance,o,n)})}function readTicks(s){config.ticks?socket.emit("getObject",config.ticks,function(e,t){var r=JSON.parse(JSON.stringify(getStartStop(0)));r.instance=config.l[0].instance,r.sessionId=sessionId,r.aggregate="onchange",console.log("Ticks: "+new Date(r.start)+" - "+new Date(r.end)),socket.emit("getHistory",config.ticks,r,function(e,t,o,n){if(e&&console.error(e),sessionId&&n&&n!==sessionId)console.warn("Ignore request with sessionId="+n+", actual is "+sessionId);else{if(!e&&t){var i=ticks||[];ticks&&ticks.length&&ticks.splice(0,ticks.length);for(var a=0;a<t.length;a++)null!==!t[a].val&&i.push([t[a].ts,t[a].val]);i.length?(i[0][0]>r.start&&i.unshift([r.start,""]),i[i.length-1][0]<r.end&&i.push([r.end,""])):(i.push([r.start,""]),i.push([r.end,""])),t=null,ticks=i}s&&s(i)}})}):s&&s(null)}function readMarkings(o,n){if(n=n||0,!config.m||!config.m.length||n>=config.m.length)return o&&o();!config.m[n].oid&&config.m[n].v&&parseFloat(config.m[n].v)!=config.m[n].v&&-1!==config.m[n].v.indexOf(".")?(-1===subscribes.indexOf(config.m[n].v)&&subscribes.push(config.m[n].v),readValue(config.m[n].v,n,function(e,t){config.m[e].oid=config.m[e].v,config.m[e].v=t,!config.m[n].oidl&&config.m[n].vl&&parseFloat(config.m[n].vl)!=config.m[n].vl&&-1!==config.m[n].vl.indexOf(".")?(-1===subscribes.indexOf(config.m[n].vl)&&subscribes.push(config.m[n].vl),readValue(config.m[n].vl,n,function(e,t){config.m[e].oidl=config.m[e].vl,config.m[e].vl=t,setTimeout(readMarkings,0,o,n+1)})):setTimeout(readMarkings,0,o,n+1)})):!config.m[n].oidl&&config.m[n].vl&&parseFloat(config.m[n].vl)!=config.m[n].vl&&-1!==config.m[n].vl.indexOf(".")?(-1===subscribes.indexOf(config.m[n].vl)&&subscribes.push(config.m[n].vl),readValue(config.m[n].vl,n,function(e,t){config.m[e].oidl=config.m[e].vl,config.m[e].vl=t,setTimeout(readMarkings,0,o,n+1)})):setTimeout(readMarkings,0,o,n+1)}function _readData(e,t){if((t=t||0)>=config.l.length)return e&&e();""!==config.l[t]&&void 0!==config.l[t]&&seriesData.push([]),_readOneLine(t,function(){setTimeout(function(){_readData(e,t+1)},10)})}function subscribeAll(e,t,o){o=o||0,!e||!e.length||o>=e.length?t&&t():socket.emit("subscribe",e[o],function(){setTimeout(function(){subscribeAll(e,t,o+1)},0)})}function readData(e){disconnectTimeout&&($("#no-connection").hide(),clearTimeout(disconnectTimeout),disconnectTimeout=null),sessionId++,config.l&&(e||$("#server-disconnect").show(),_readData(function(){readTicks(function(e){readMarkings(function(){subscribed||(subscribed=!0,subscribeAll()),$("#server-disconnect").hide(),prepareChart()})})})),config.noedit||$("#edit").show().click(function(){window.open(location.href.replace("index.html","edit.html"),"flot").focus()})}function startLiveUpdate(){liveInterval=setInterval(function(){if(config.zoomed){for(var e=0,t=null,o=0;o<config.l.length;o++)e<config.l[o].zMax&&(e=config.l[o].zMax),(null===t||t>config.l[o].zMin)&&(t=config.l[o].zMin);if(!(e+(e-t)/20>=(new Date).getTime()))return;for(var e=(new Date).getTime()-now.getTime(),n=[],i=0;i<config.l.length;i++)config.l[i].zMax+=e,config.l[i].zMin+=e,n.push({min:config.l[i].zMin,max:config.l[i].zMax});chart.setRange(n)}console.log("on time"),updateLive()},1e3*config.live)}function updateLive(){var e=0;now=new Date,$(".loader").show(),sessionId++,config.zoom&&chart.resetZoom(now);for(var t=0;t<config.l.length;t++)e++,seriesData[t]=[],readOneChart(config.l[t].id,config.l[t].instance,t,function(){--e||readTicks(function(e){chart.update(seriesData,null,e),$(".loader").hide()})})}function avg(e,t){for(var o,n,i=[],a=0;a<e.length;a++){if(n=a<t?0:a-t+1,o=[e[a][0],null],null!==e[a][1]){for(var r=0,s=0,l=n;l<=a;l++)null!==e[l][1]&&(r+=e[l][1],s++);o[1]=r/s}i.push(o)}return i}function onZoom(){config.zoomed||($("#resetZoom").show(),config.zoomed=!0);for(var e=chart.getRange(),t=0;t<e.length;t++)config.l[t].zMin=e[t].min,config.l[t].zMax=e[t].max;console.log("on zoom"),updateLive()}socket.on("connect",function(){disconnectTimeout&&($("#no-connection").hide(),clearTimeout(disconnectTimeout),disconnectTimeout=null),setTimeout(function(){socket.emit("name","flot")},50),setTimeout(function(){readData()},100)}),socket.on("stateChange",function(e,t){if(chart&&config&&config.m){console.log(e+" - "+t.val);for(var o=0;o<config.m.length;o++)config.m[o].oid===e&&(config.m[o].v=parseFloat(t.val)||0),config.m[o].oidl===e&&(config.m[o].vl=parseFloat(t.val)||0);chart.update(null,config.m)}}),config.window_bg&&$("body").css("background",config.window_bg),socket.on("disconnect",function(){disconnectTimeout=disconnectTimeout||setTimeout(function(){disconnectTimeout=null,$("#no-connection").show()},5e3)});
//# sourceMappingURL=flot.js.map
